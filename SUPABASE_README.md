# ๐ ุฏููู ุชุญููู ูุดุฑูุน ูุงุณููู ุงูุดุงู ุฅูู Supabase

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฑุญุจุงู ุจู ูู ุฏููู ุงูุชุญููู ุงูุดุงูู ููุดุฑูุน ูุงุณููู ุงูุดุงู ูู ุงูุชุฎุฒูู ุงููุญูู (localStorage ู Mock Data) ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช Supabase ุงูุญููููุฉ.

ูุฐุง ุงูุฏููู ูุญุชูู ุนูู ุฌููุน ุงูููุงุฑุฏ ูุงููููุงุช ุงูุชู ุชุญุชุงุฌูุง ูุฅููุงู ุงูุชุญููู ุจูุฌุงุญ.

---

## ๐ ุงููููุงุช ุงููุชููุฑุฉ

### 1. ๐ ุงููุซุงุฆู ุงูุชุนููููุฉ

#### **SUPABASE_GUIDE.md** - ุฏููู Supabase ุงูุดุงูู
- **ุงุจุฏุฃ ูู ููุง!** ูุฐุง ูู ุฃูู ููู ูุฌุจ ูุฑุงุกุชู
- ุดุฑุญ ููุตู ูู Supabase ูููููุฉ ุนููู
- ุดุฑุญ Row Level Security (RLS)
- ุดุฑุญ Policies ูุงูุฃูุงู
- ุฃูุซูุฉ ุนูููุฉ ุนูู ุงูุงุณุชุนูุงูุงุช
- ุฃูุถู ุงูููุงุฑุณุงุช

**ูุชู ุชูุฑุฃู**: ูุจู ุงูุจุฏุก ูู ุฃู ุดูุก ุขุฎุฑ

---

#### **SUPABASE_MIGRATION_PLAN.md** - ุฎุทุฉ ุงูุชุญููู ุงููุงููุฉ
- ุฎุทุฉ ุชูุตูููุฉ ูุฌููุน ูุฑุงุญู ุงูุชุญููู
- ุฌุฏูู ุฒููู (4 ุฃุณุงุจูุน)
- ูุงุฆูุฉ ููุงู (Checklist) ููู ูุฑุญูุฉ
- ููุงุท ูููุฉ ููุฎุงุทุฑ ูุญุชููุฉ
- ููุงููุณ ุงููุฌุงุญ

**ูุชู ุชูุฑุฃู**: ุจุนุฏ ููู Supabase ูู ุงูุฏููู ุงูุดุงูู

---

#### **SUPABASE_CODE_EXAMPLES.md** - ุฃูุซูุฉ ููุฏ ุนูููุฉ
- ุฃูุซูุฉ ููุฏ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู
- ุฎุฏูุงุช ูุงููุฉ (Design, Appointment, Favorites)
- ุฃูุซูุฉ ุนูู ุงุณุชุฎุฏุงู ุงูุฎุฏูุงุช ูู ุงูููููุงุช
- ุฃูุซูุฉ ุนูู Real-time Subscriptions

**ูุชู ุชูุฑุฃู**: ุนูุฏ ุงูุจุฏุก ูู ูุชุงุจุฉ ุงูููุฏ

---

### 2. ๐๏ธ ูููุงุช SQL

#### **supabase-schema.sql** - ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู (9 ุฌุฏุงูู)
- ุชุนุฑูู ุงูุนูุงูุงุช (Foreign Keys)
- ุฅูุดุงุก ุงูููุงุฑุณ (Indexes)
- ุฅูุดุงุก Triggers ู Functions
- ุชูุนูู RLS ุนูู ุฌููุน ุงูุฌุฏุงูู

**ูุชู ุชุณุชุฎุฏูู**: ูู ุจุฏุงูุฉ ุงููุดุฑูุน ูุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ููููุฉ ุงูุงุณุชุฎุฏุงู**:
1. ุงูุชุญ Supabase Dashboard
2. ุงุฐูุจ ุฅูู SQL Editor
3. ุงููุฑ ุนูู "New query"
4. ุงูุณุฎ ูุงูุตู ูุญุชูู ุงูููู
5. ุงููุฑ ุนูู "Run" ุฃู ุงุถุบุท Ctrl+Enter

---

#### **supabase-rls-policies.sql** - ุณูุงุณุงุช ุงูุฃูุงู
- ุณูุงุณุงุช RLS ูุฌููุน ุงูุฌุฏุงูู
- ุฏูุงู ูุณุงุนุฏุฉ ููุชุญูู ูู ุงูุฃุฏูุงุฑ
- Triggers ููุฃูุงู ูุงูุชุญุฏูุซุงุช ุงูุชููุงุฆูุฉ
- ุดุฑุญ ููุตู ููู ุณูุงุณุฉ

**ูุชู ุชุณุชุฎุฏูู**: ุจุนุฏ ุฅูุดุงุก ุงูุฌุฏุงูู ูุจุงุดุฑุฉ

**ููููุฉ ุงูุงุณุชุฎุฏุงู**:
1. ุงูุชุญ SQL Editor ูู Supabase
2. ุงูุณุฎ ูุงูุตู ูุญุชูู ุงูููู
3. ุงููุฑ ุนูู "Run"
4. ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก

---

#### **supabase-seed-data.sql** - ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
- ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูุฌููุน ุงูุฌุฏุงูู
- ูุณุชุฎุฏููู (Admin, Workers, Clients)
- ุชุตุงููู ูุฃููุดุฉ
- ููุงุนูุฏ ูุทูุจุงุช
- ููุถูุฉ ูุณูุฉ

**ูุชู ุชุณุชุฎุฏูู**: ุจุนุฏ ุฅูุดุงุก ุงูุฌุฏุงูู ูุงูุณูุงุณุงุช

**ููุงุญุธุฉ ูููุฉ**: ูุฌุจ ุฅูุดุงุก ุงููุณุชุฎุฏููู ุนุจุฑ Supabase Auth ุฃููุงูุ ุซู ุชุญุฏูุซ UUIDs ูู ุงูููู.

---

## ๐ฏ ุฎุทุฉ ุงูุจุฏุงูุฉ ุงูุณุฑูุนุฉ

### ุงููุฑุญูุฉ 1: ุงูููู (ููู ูุงุญุฏ)

1. **ุงูุฑุฃ SUPABASE_GUIDE.md** (ุณุงุนุฉ ูุงุญุฏุฉ)
   - ุงููู ูุง ูู Supabase
   - ุงููู Row Level Security
   - ุงููู ููููุฉ ูุชุงุจุฉ ุงูุงุณุชุนูุงูุงุช

2. **ุงูุฑุฃ SUPABASE_MIGRATION_PLAN.md** (30 ุฏูููุฉ)
   - ุงููู ุงูุฎุทุฉ ุงููุงููุฉ
   - ุฑุงุฌุน ุงูุฌุฏูู ุงูุฒููู
   - ุญุฏุฏ ุงูุฃููููุงุช

3. **ุฑุงุฌุน supabase-schema.sql** (30 ุฏูููุฉ)
   - ุงููู ุจููุฉ ุงูุฌุฏุงูู
   - ุงููู ุงูุนูุงูุงุช ุจูู ุงูุฌุฏุงูู

---

### ุงููุฑุญูุฉ 2: ุงูุฅุนุฏุงุฏ (ูููุงู)

1. **ุฅูุดุงุก ุญุณุงุจ Supabase**
   ```
   1. ุงุฐูุจ ุฅูู https://supabase.com
   2. ุณุฌู ุงูุฏุฎูู ุจู GitHub
   3. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ: yasmin-alsham
   4. ุงุฎุชุฑ ุงูููุทูุฉ: Bahrain ุฃู Frankfurt
   5. ุงูุชุธุฑ 2-3 ุฏูุงุฆู
   ```

2. **ุงูุญุตูู ุนูู API Keys**
   ```
   1. ุงุฐูุจ ุฅูู Settings โ API
   2. ุงูุณุฎ Project URL
   3. ุงูุณุฎ anon public key
   4. ุงุญูุธููุง ูู ููุงู ุขูู
   ```

3. **ุฅุนุฏุงุฏ ุงููุดุฑูุน**
   ```bash
   # ุชุซุจูุช Supabase
   npm install @supabase/supabase-js

   # ุฅูุดุงุก ููู ุงูุจูุฆุฉ
   echo "NEXT_PUBLIC_SUPABASE_URL=your_url_here" > .env.local
   echo "NEXT_PUBLIC_SUPABASE_ANON_KEY=your_key_here" >> .env.local
   ```

4. **ุฅูุดุงุก ููู ุนููู Supabase**
   - ุฑุงุฌุน ุงููุฑุญูุฉ ุงูุฃููู ูู SUPABASE_MIGRATION_PLAN.md
   - ุฃูุดุฆ ููู `src/lib/supabase.ts`

---

### ุงููุฑุญูุฉ 3: ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช (ููู ูุงุญุฏ)

1. **ุชูููุฐ supabase-schema.sql**
   ```
   1. ุงูุชุญ Supabase Dashboard
   2. ุงุฐูุจ ุฅูู SQL Editor
   3. ุงูุณุฎ ูุญุชูู supabase-schema.sql
   4. ุงูุตูู ูู ุงููุญุฑุฑ
   5. ุงููุฑ Run
   6. ุชุญูู ูู ุฑุณุงูุฉ Success
   ```

2. **ุชูููุฐ supabase-rls-policies.sql**
   ```
   1. ุงูุชุญ SQL Editor
   2. ุงูุณุฎ ูุญุชูู supabase-rls-policies.sql
   3. ุงูุตูู ูู ุงููุญุฑุฑ
   4. ุงููุฑ Run
   5. ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
   ```

3. **ุงูุชุญูู ูู ุงูุฌุฏุงูู**
   ```
   1. ุงุฐูุจ ุฅูู Table Editor
   2. ุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ุงูุฌุฏุงูู:
      - users
      - workers
      - designs
      - fabrics
      - appointments
      - orders
      - order_items
      - favorites
      - cart_items
   ```

---

### ุงููุฑุญูุฉ 4: ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ (ูุตู ููู)

1. **ุฅูุดุงุก ูุณุชุฎุฏููู ุนุจุฑ Supabase Auth**
   ```
   1. ุงุฐูุจ ุฅูู Authentication โ Users
   2. ุงููุฑ Add user
   3. ุฃูุดุฆ:
      - Admin: admin@yasminalsh.com
      - Worker 1: fatima@yasminalsh.com
      - Worker 2: aisha@yasminalsh.com
      - Client 1: sara@example.com
      - Client 2: noor@example.com
   4. ุงุญูุธ UUIDs ููู ูุณุชุฎุฏู
   ```

2. **ุชุญุฏูุซ supabase-seed-data.sql**
   ```
   1. ุงูุชุญ supabase-seed-data.sql
   2. ุงุณุชุจุฏู UUIDs ุจุงูู UUIDs ุงูุญููููุฉ
   3. ุงุญูุธ ุงูููู
   ```

3. **ุชูููุฐ supabase-seed-data.sql**
   ```
   1. ุงูุชุญ SQL Editor
   2. ุงูุณุฎ ูุญุชูู ุงูููู ุงููุญุฏุซ
   3. ุงูุตูู ูู ุงููุญุฑุฑ
   4. ุงููุฑ Run
   ```

---

### ุงููุฑุญูุฉ 5: ูุชุงุจุฉ ุงูููุฏ (ุฃุณุจูุน)

1. **ุฅูุดุงุก ุงูุฎุฏูุงุช**
   - ุฑุงุฌุน SUPABASE_CODE_EXAMPLES.md
   - ุฃูุดุฆ `src/lib/services/design-service.ts`
   - ุฃูุดุฆ `src/lib/services/appointment-service.ts`
   - ุฃูุดุฆ `src/lib/services/favorite-service.ts`
   - ุฃูุดุฆ `src/lib/services/cart-service.ts`
   - ุฃูุดุฆ `src/lib/services/order-service.ts`

2. **ุชุญุฏูุซ database-safe-v2.ts**
   - ุฃุถู ุงุณุชูุฑุงุฏ ุงูุฎุฏูุงุช
   - ุฃุถู fallback ููุจูุงูุงุช ุงููุญููุฉ
   - ุงุฎุชุจุฑ ุงูุงุชุตุงู

3. **ุชุญุฏูุซ authStore.ts**
   - ุฑุงุฌุน ุงููุฑุญูุฉ ุงูุฎุงูุณุฉ ูู SUPABASE_MIGRATION_PLAN.md
   - ุฃุถู Supabase Auth
   - ุงุฎุชุจุฑ ุชุณุฌูู ุงูุฏุฎูู

4. **ุชุญุฏูุซ shopStore.ts**
   - ุฑุงุฌุน ุงููุฑุญูุฉ ุงูุณุงุฏุณุฉ ูู SUPABASE_MIGRATION_PLAN.md
   - ุฃุถู ูุฒุงููุฉ ุงูููุถูุฉ
   - ุฃุถู ูุฒุงููุฉ ุงูุณูุฉ

---

### ุงููุฑุญูุฉ 6: ุงูุงุฎุชุจุงุฑ (ุฃุณุจูุน)

1. **ุงุฎุชุจุงุฑ ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ**
   - [ ] ุชุณุฌูู ุงูุฏุฎูู
   - [ ] ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ
   - [ ] ุฌูุจ ุงูุชุตุงููู
   - [ ] ุญุฌุฒ ููุนุฏ (ูุฌููู)
   - [ ] ุญุฌุฒ ููุนุฏ (ูุณุชุฎุฏู ูุณุฌู)
   - [ ] ุฅุถุงูุฉ ุฅูู ุงูููุถูุฉ
   - [ ] ุฅุถุงูุฉ ุฅูู ุงูุณูุฉ

2. **ุงุฎุชุจุงุฑ ุงูุฃูุงู**
   - [ ] ุงููุณุชุฎุฏู ูุฑู ุจูุงูุงุชู ููุท
   - [ ] Admin ูุฑู ุฌููุน ุงูุจูุงูุงุช
   - [ ] Worker ูุฑู ุทูุจุงุชู ุงููุนููุฉ ููุท
   - [ ] ุงูุถููู ูููููู ุญุฌุฒ ููุงุนูุฏ

3. **ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก**
   - [ ] ุงูุงุณุชุนูุงูุงุช ุณุฑูุนุฉ
   - [ ] ูุง ุชูุฌุฏ ุงุณุชุนูุงูุงุช ุฒุงุฆุฏุฉ
   - [ ] ุงูุตูุฑ ุชุญูู ุจุณุฑุนุฉ

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงููุงููุฉ

### ุงูุฅุนุฏุงุฏ
- [ ] ุฅูุดุงุก ุญุณุงุจ Supabase
- [ ] ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ
- [ ] ุงูุญุตูู ุนูู API Keys
- [ ] ุชุซุจูุช `@supabase/supabase-js`
- [ ] ุฅูุดุงุก `.env.local`
- [ ] ุฅูุดุงุก `src/lib/supabase.ts`

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุชูููุฐ `supabase-schema.sql`
- [ ] ุชูููุฐ `supabase-rls-policies.sql`
- [ ] ุฅูุดุงุก ูุณุชุฎุฏููู ุนุจุฑ Auth
- [ ] ุชูููุฐ `supabase-seed-data.sql`
- [ ] ุงูุชุญูู ูู ุงูุฌุฏุงูู

### ุงูููุฏ
- [ ] ุฅูุดุงุก ุฎุฏูุงุช ุงูุชุตุงููู
- [ ] ุฅูุดุงุก ุฎุฏูุงุช ุงูููุงุนูุฏ
- [ ] ุฅูุดุงุก ุฎุฏูุงุช ุงูููุถูุฉ
- [ ] ุฅูุดุงุก ุฎุฏูุงุช ุงูุณูุฉ
- [ ] ุฅูุดุงุก ุฎุฏูุงุช ุงูุทูุจุงุช
- [ ] ุชุญุฏูุซ `database-safe-v2.ts`
- [ ] ุชุญุฏูุซ `authStore.ts`
- [ ] ุชุญุฏูุซ `shopStore.ts`

### ุงูุงุฎุชุจุงุฑ
- [ ] ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
- [ ] ุงุฎุชุจุงุฑ ุญุฌุฒ ุงูููุงุนูุฏ
- [ ] ุงุฎุชุจุงุฑ ุงูููุถูุฉ
- [ ] ุงุฎุชุจุงุฑ ุงูุณูุฉ
- [ ] ุงุฎุชุจุงุฑ RLS Policies
- [ ] ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก

### ุงููุดุฑ
- [ ] ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Vercel
- [ ] ุงููุดุฑ ุนูู ุงูุฅูุชุงุฌ
- [ ] ุงุฎุชุจุงุฑ ุงููููุน ุงูููุดูุฑ
- [ ] ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก

---

## ๐ ุงููุณุงุนุฏุฉ ูุงูุฏุนู

### ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. **ุฑุงุฌุน ุงููุซุงุฆู**
   - SUPABASE_GUIDE.md ููุฃุณุฆูุฉ ุงูุนุงูุฉ
   - SUPABASE_MIGRATION_PLAN.md ููุฎุทุฉ ุงูุชูุตูููุฉ
   - SUPABASE_CODE_EXAMPLES.md ููุฃูุซูุฉ

2. **ุฑุงุฌุน ููุงุฑุฏ Supabase**
   - [Supabase Docs](https://supabase.com/docs)
   - [Supabase Discord](https://discord.supabase.com)
   - [Supabase YouTube](https://www.youtube.com/c/supabase)

3. **ุฃุฎุทุงุก ุดุงุฆุนุฉ**
   - **"Row Level Security policy violation"**: ุฑุงุฌุน RLS Policies
   - **"relation does not exist"**: ุชุฃูุฏ ูู ุชูููุฐ schema.sql
   - **"Invalid API key"**: ุชุญูู ูู .env.local

---

## ๐ ุชูุฏู ุงููุดุฑูุน

ุงุณุชุฎุฏู ูุฐุง ุงูุฌุฏูู ูุชุชุจุน ุชูุฏูู:

| ุงููุฑุญูุฉ | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|---------|--------|-----------|
| 1. ุงูููู | โฌ | ูุฑุงุกุฉ ุงููุซุงุฆู |
| 2. ุงูุฅุนุฏุงุฏ | โฌ | ุฅูุดุงุก ุญุณุงุจ ูุฅุนุฏุงุฏ ุงููุดุฑูุน |
| 3. ูุงุนุฏุฉ ุงูุจูุงูุงุช | โฌ | ุชูููุฐ SQL |
| 4. ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ | โฌ | ุฅุฏุฎุงู ุงูุจูุงูุงุช |
| 5. ูุชุงุจุฉ ุงูููุฏ | โฌ | ุฅูุดุงุก ุงูุฎุฏูุงุช |
| 6. ุงูุงุฎุชุจุงุฑ | โฌ | ุงุฎุชุจุงุฑ ุดุงูู |
| 7. ุงููุดุฑ | โฌ | ูุดุฑ ุนูู ุงูุฅูุชุงุฌ |

**ุงูุฑููุฒ**:
- โฌ ูู ูุจุฏุฃ
- ๐ ููุฏ ุงูุชูููุฐ
- โ ููุชูู
- โ ูุญุชุงุฌ ูุฑุงุฌุนุฉ

---

## ๐ ุจุนุฏ ุฅููุงู ุงูุชุญููู

ุจุนุฏ ุฅููุงู ุงูุชุญููู ุจูุฌุงุญุ ุณุชุญุตู ุนูู:

- โ ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ ูู ุงูุณุญุงุจุฉ
- โ ุจูุงูุงุช ุฏุงุฆูุฉ ูุง ุชูููุฏ
- โ ุฃูุงู ููู ูุน RLS
- โ ูุตุงุฏูุฉ ุขููุฉ ูุน Supabase Auth
- โ ุฅููุงููุฉ ุงููุตูู ูู ุฃู ุฌูุงุฒ
- โ Real-time updates (ุงุฎุชูุงุฑู)
- โ ุชุทุจูู ุฌุงูุฒ ููุฅูุชุงุฌ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2025-10-25  
**ุงูุฅุตุฏุงุฑ**: 3.0  
**ุงูุญุงูุฉ**: ุฌุงูุฒ ููุงุณุชุฎุฏุงู

**ุญุธุงู ููููุงู ูู ุฑุญูุฉ ุงูุชุญููู! ๐**

