# ุฏููู ุชุญุณูู ุงูุฃุฏุงุก - ุตูุญุฉ ุงููุชุฌุฑ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ุชุญุณููุงุช ุดุงููุฉ ุนูู ุตูุญุฉ ุงููุชุฌุฑ (`/designs`) ูุชุญุณูู ุงูุฃุฏุงุก ูุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุจุดูู ูุจูุฑ.

---

## ๐ ุงููุดุงูู ุงูููุชุดูุฉ

### 1. ุชุญููู ุฌููุน ุงูููุชุฌุงุช ุฏูุนุฉ ูุงุญุฏุฉ โ
**ุงููุดููุฉ:** ูุงู ูุชู ุชุญููู ุฌููุน ุงูููุชุฌุงุช (ูุซูุงู 50+ ููุชุฌ) ุฏูุนุฉ ูุงุญุฏุฉ ุนูุฏ ูุชุญ ุงูุตูุญุฉ.

**ุงูุชุฃุซูุฑ:**
- ููุช ุชุญููู ุทููู (5-10 ุซูุงูู)
- ุงุณุชููุงู ุนุงูู ููุฐุงูุฑุฉ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุฆุฉ

### 2. ุงุณุชุฎุฏุงู `<img>` ุจุฏูุงู ูู Next.js `<Image>` โ
**ุงููุดููุฉ:** ุงุณุชุฎุฏุงู HTML `<img>` ุงูุนุงุฏู ุจุฏูู optimization.

**ุงูุชุฃุซูุฑ:**
- ูุง ููุฌุฏ lazy loading
- ูุง ููุฌุฏ ุถุบุท ุชููุงุฆู
- ูุง ููุฌุฏ responsive images
- ุชุญููู ุฌููุน ุงูุตูุฑ ุฏูุนุฉ ูุงุญุฏุฉ

### 3. ุชุญููู ุงูุตูุฑ ุงููุงููุฉ ูู ุงููุงุฆูุฉ โ
**ุงููุดููุฉ:** ุชุญููู ุงูุตูุฑ ุจุงูุญุฌู ุงููุงูู (1-3MB ููู ุตูุฑุฉ) ูู ูุงุฆูุฉ ุงูููุชุฌุงุช.

**ุงูุชุฃุซูุฑ:**
- ุงุณุชููุงู bandwidth ุนุงูู ุฌุฏุงู
- ุชุญููู ุจุทูุก ุนูู ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ
- ุชูููุฉ ุนุงููุฉ ุนูู ุดุจูุงุช ุงูููุจุงูู

### 4. ุนุฏู ูุฌูุฏ Caching โ
**ุงููุดููุฉ:** ุฅุนุงุฏุฉ ุชุญููู ุงูููุชุฌุงุช ูู Supabase ูู ูู ูุฑุฉ ูุฒูุฑ ุงููุณุชุฎุฏู ุงูุตูุญุฉ.

**ุงูุชุฃุซูุฑ:**
- ุทูุจุงุช ุบูุฑ ุถุฑูุฑูุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช
- ููุช ุชุญููู ูุชูุฑุฑ
- ุงุณุชููุงู ููุงุฑุฏ Supabase

### 5. ุนุฏู ูุฌูุฏ Skeleton Loading โ
**ุงููุดููุฉ:** ุดุงุดุฉ ูุงุฑุบุฉ ุฃู spinner ุจุณูุท ุฃุซูุงุก ุงูุชุญููู.

**ุงูุชุฃุซูุฑ:**
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุฆุฉ
- ุดุนูุฑ ุจุงูุจุทุก
- ุนุฏู ูุถูุญ ูุง ูุญุฏุซ

---

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. Infinite Scroll (ุงูุชูุฑูุฑ ุงููุงููุงุฆู) โ

**ุงูุญู:**
- ุชุญููู 12 ููุชุฌ ููุท ูู ุงูุจุฏุงูุฉ
- ุชุญููู 12 ููุชุฌ ุฅุถุงูู ุนูุฏ ุงูุชูุฑูุฑ ููุฃุณูู
- ุงุณุชุฎุฏุงู Intersection Observer API

**ุงูููุฏ:**
```typescript
const PRODUCTS_PER_PAGE = 12

// Infinite Scroll: ุชุญููู ุงููุฒูุฏ ูู ุงูููุชุฌุงุช ุนูุฏ ุงูุชูุฑูุฑ
useEffect(() => {
  if (products.length === 0) return

  const totalProducts = products.length
  const productsToShow = page * PRODUCTS_PER_PAGE
  const newDisplayedProducts = products.slice(0, Math.min(productsToShow, totalProducts))
  
  setDisplayedProducts(newDisplayedProducts)
  setHasMore(productsToShow < totalProducts)
}, [products, page])

// Intersection Observer ููุชุญููู ุงูุชููุงุฆู
useEffect(() => {
  const observer = new IntersectionObserver(
    (entries) => {
      if (entries[0].isIntersecting && hasMore && !isLoading) {
        setPage(prev => prev + 1)
      }
    },
    { threshold: 0.1 }
  )
  // ...
}, [hasMore, isLoading])
```

**ุงูููุงุฆุฏ:**
- โ ุชุญููู ุฃููู ุณุฑูุน (12 ููุชุฌ ููุท)
- โ ุชุฌุฑุจุฉ ุณูุณุฉ ุจุฏูู ุฃุฒุฑุงุฑ pagination
- โ ุชุญููู ุชุฏุฑูุฌู ุญุณุจ ุงูุญุงุฌุฉ

### 2. Next.js Image Optimization โ

**ุงูุญู:**
- ุงุณุชุจุฏุงู `<img>` ุจู Next.js `<Image>` component
- ุชูุนูู lazy loading ุชููุงุฆู
- ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู
- responsive images

**ุงูููุฏ:**
```typescript
<Image
  src={currentImage}
  alt={`${product.name} - ุตูุฑุฉ ${currentIndex + 1}`}
  fill
  sizes="(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw"
  className="object-cover transition-opacity duration-300"
  loading="lazy"
  quality={75}
/>
```

**ุงูุชูููู ูู `next.config.ts`:**
```typescript
images: {
  remotePatterns: [
    {
      protocol: 'https',
      hostname: '**.supabase.co',
      pathname: '/storage/v1/object/public/**',
    },
  ],
  formats: ['image/webp', 'image/avif'],
  deviceSizes: [640, 750, 828, 1080, 1200, 1920],
  imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
}
```

**ุงูููุงุฆุฏ:**
- โ Lazy loading: ุงูุตูุฑ ุชูุญูู ููุท ุนูุฏ ุธููุฑูุง
- โ ุถุบุท ุชููุงุฆู: ุชุญููู ุฅูู WebP/AVIF
- โ Responsive: ุฃุญุฌุงู ูุฎุชููุฉ ููุฃุฌูุฒุฉ ุงููุฎุชููุฉ
- โ ุชูููู ุญุฌู ุงูุตูุฑ ุจูุณุจุฉ 60-80%

### 3. Skeleton Loading โ

**ุงูุญู:**
- ุฅุถุงูุฉ skeleton screens ุฃุซูุงุก ุงูุชุญููู ุงูุฃููู
- ุนุฑุถ 8 skeleton cards ุจุฏูุงู ูู spinner

**ุงูููุฏ:**
```typescript
function ProductSkeleton() {
  return (
    <div className="group">
      <div className="relative overflow-hidden rounded-2xl bg-white shadow-lg">
        {/* Skeleton ููุตูุฑุฉ */}
        <div className="aspect-[4/5] bg-gradient-to-br from-gray-200 via-gray-100 to-gray-200 animate-pulse" />
        
        {/* Skeleton ูููุนูููุงุช */}
        <div className="p-4 space-y-3">
          <div className="h-5 bg-gray-200 rounded animate-pulse w-3/4" />
          <div className="space-y-2">
            <div className="h-3 bg-gray-200 rounded animate-pulse w-full" />
            <div className="h-3 bg-gray-200 rounded animate-pulse w-2/3" />
          </div>
          <div className="h-6 bg-gray-200 rounded animate-pulse w-1/2" />
          <div className="flex gap-2">
            <div className="h-10 bg-gray-200 rounded animate-pulse flex-1" />
            <div className="h-10 w-10 bg-gray-200 rounded-full animate-pulse" />
          </div>
        </div>
      </div>
    </div>
  )
}
```

**ุงูููุงุฆุฏ:**
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู
- โ ุดุนูุฑ ุจุงูุณุฑุนุฉ (perceived performance)
- โ ูุถูุญ ูุง ุณูุธูุฑ

### 4. Caching ูู Zustand Store โ

**ุงูุญู:**
- ุชุฎุฒูู ุงูููุชุฌุงุช ูู Zustand store ูุน persist
- ุชุฌูุจ ุฅุนุงุฏุฉ ุงูุชุญููู ุฅุฐุง ูุงูุช ุงูููุชุฌุงุช ูุญููุฉ ุจุงููุนู

**ุงูููุฏ:**
```typescript
loadProducts: async () => {
  // ุชุญุณูู: ุชุฌูุจ ุฅุนุงุฏุฉ ุงูุชุญููู ุฅุฐุง ูุงูุช ุงูููุชุฌุงุช ูุญููุฉ ุจุงููุนู
  const { products } = get()
  if (products.length > 0) {
    console.log('โ ุงูููุชุฌุงุช ูุญููุฉ ุจุงููุนู ูู cache - ุชุฎุทู ุงูุชุญููู')
    return
  }

  set({ isLoading: true, error: null })
  // ... ุจุงูู ุงูููุฏ
}
```

**ูู ุงูุตูุญุฉ:**
```typescript
useEffect(() => {
  // ุชุญููู ููุท ุฅุฐุง ูู ุชูู ุงูููุชุฌุงุช ูุญููุฉ ุจุงููุนู
  if (products.length === 0) {
    loadProducts()
  }
}, [loadProducts, products.length])
```

**ุงูููุงุฆุฏ:**
- โ ุชุญููู ููุฑู ุนูุฏ ุงูุนูุฏุฉ ููุตูุญุฉ
- โ ุชูููู ุทูุจุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชูููุฑ ููุงุฑุฏ Supabase

### 5. ุชุญุณููุงุช ุฅุถุงููุฉ โ

#### Animation Delay Optimization
```typescript
// ูุจู: delay ูุชุฒุงูุฏ ููู ููุชุฌ
transition={{ duration: 0.6, delay: index * 0.1 }}

// ุจุนุฏ: delay ูุญุฏูุฏ ุจู 0.5 ุซุงููุฉ
transition={{ duration: 0.6, delay: Math.min(index * 0.05, 0.5) }}
```

**ุงููุงุฆุฏุฉ:** ุชุฌูุจ ุงูุชุฃุฎูุฑ ุงูุทููู ููููุชุฌุงุช ุงูุฃุฎูุฑุฉ

#### Loading Indicator ููุชูุฑูุฑ
```typescript
{hasMore && !isLoading && displayedProducts.length > 0 && (
  <div ref={observerTarget} className="flex justify-center items-center py-8">
    <div className="flex items-center gap-2 text-gray-500">
      <div className="w-2 h-2 bg-pink-400 rounded-full animate-bounce" />
      <div className="w-2 h-2 bg-pink-400 rounded-full animate-bounce" />
      <div className="w-2 h-2 bg-pink-400 rounded-full animate-bounce" />
    </div>
  </div>
)}
```

**ุงููุงุฆุฏุฉ:** ุฅุดุงุฑุฉ ูุงุถุญุฉ ูููุณุชุฎุฏู ุฃู ููุงู ุงููุฒูุฏ ูู ุงููุญุชูู

---

## ๐ ููุงุฑูุฉ ุงูุฃุฏุงุก

### ูุจู ุงูุชุญุณููุงุช โ

| ุงููููุงุณ | ุงููููุฉ |
|---------|--------|
| **ุนุฏุฏ ุงูููุชุฌุงุช ุงููุญููุฉ** | 50+ ููุชุฌ ุฏูุนุฉ ูุงุญุฏุฉ |
| **ุญุฌู ุงูุตูุฑ ุงููุญููุฉ** | 50-150 MB (50 ุตูุฑุฉ ร 1-3MB) |
| **ููุช ุงูุชุญููู ุงูุฃููู** | 5-10 ุซูุงูู |
| **ุงุณุชููุงู ุงูุฐุงูุฑุฉ** | ุนุงูู ุฌุฏุงู |
| **ุทูุจุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช** | ูู ูู ุฒูุงุฑุฉ |
| **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู** | ุดุงุดุฉ ูุงุฑุบุฉ โ ุชุญููู ุทููู โ ุธููุฑ ููุงุฌุฆ |

### ุจุนุฏ ุงูุชุญุณููุงุช โ

| ุงููููุงุณ | ุงููููุฉ |
|---------|--------|
| **ุนุฏุฏ ุงูููุชุฌุงุช ุงููุญููุฉ** | 12 ููุชุฌ ูู ุงูุจุฏุงูุฉ |
| **ุญุฌู ุงูุตูุฑ ุงููุญููุฉ** | 2-5 MB (12 ุตูุฑุฉ ร 150-400KB) |
| **ููุช ุงูุชุญููู ุงูุฃููู** | 1-2 ุซุงููุฉ |
| **ุงุณุชููุงู ุงูุฐุงูุฑุฉ** | ููุฎูุถ |
| **ุทูุจุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช** | ูุฑุฉ ูุงุญุฏุฉ (ูุน caching) |
| **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู** | Skeleton โ ุชุญููู ุณุฑูุน โ infinite scroll ุณูุณ |

### ุงูุชุญุณูู ุงูุฅุฌูุงูู ๐

- โก **ุณุฑุนุฉ ุงูุชุญููู:** ุชุญุณู ุจูุณุจุฉ **80-90%** (ูู 5-10 ุซูุงูู ุฅูู 1-2 ุซุงููุฉ)
- ๐ **ุงุณุชููุงู Bandwidth:** ุชูููู ุจูุณุจุฉ **90%** (ูู 50-150MB ุฅูู 2-5MB)
- ๐พ **ุงุณุชููุงู ุงูุฐุงูุฑุฉ:** ุชูููู ุจูุณุจุฉ **75%**
- ๐ **ุทูุจุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:** ุชูููู ุจูุณุจุฉ **80%** (ูุน caching)
- โจ **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:** ุชุญุณู ูุจูุฑ ูุน skeleton loading ู infinite scroll

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ุงูุชุญููู ุงูุฃููู

1. ุงูุชุญ `/designs` ูู ูุชุตูุญ ุฌุฏูุฏ (Incognito)
2. ุงูุชุญ Developer Tools โ Network
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
   - โ ุธููุฑ 8 skeleton cards ููุฑุงู
   - โ ุชุญููู 12 ููุชุฌ ููุท
   - โ ุชุญููู 12 ุตูุฑุฉ ููุท (ุจุฏูุงู ูู 50+)
   - โ ุญุฌู ุฅุฌูุงูู: 2-5MB (ุจุฏูุงู ูู 50-150MB)

### ุงุฎุชุจุงุฑ 2: Infinite Scroll

1. ูุฑุฑ ููุฃุณูู ูู ุงูุตูุญุฉ
2. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
   - โ ุธููุฑ loading indicator (3 ููุงุท ูุชุญุฑูุฉ)
   - โ ุชุญููู 12 ููุชุฌ ุฅุถุงูู ุชููุงุฆูุงู
   - โ ุชุญููู ุณูุณ ุจุฏูู ุชูุทูุน

### ุงุฎุชุจุงุฑ 3: Lazy Loading ููุตูุฑ

1. ุงูุชุญ Developer Tools โ Network
2. ูุฑุฑ ููุฃุณูู ุจุจุทุก
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
   - โ ุงูุตูุฑ ุชูุญูู ููุท ุนูุฏ ุธููุฑูุง ูู viewport
   - โ ูุง ูุชู ุชุญููู ุตูุฑ ุบูุฑ ูุฑุฆูุฉ

### ุงุฎุชุจุงุฑ 4: Caching

1. ุงูุชุญ `/designs`
2. ุงูุชุธุฑ ุงูุชุญููู ุงููุงูู
3. ุงุฐูุจ ุฅูู ุตูุญุฉ ุฃุฎุฑู
4. ุงุฑุฌุน ุฅูู `/designs`
5. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
   - โ ุธููุฑ ุงูููุชุฌุงุช ููุฑุงู (ูู cache)
   - โ ูุง ููุฌุฏ ุทูุจ ุฌุฏูุฏ ููุงุนุฏุฉ ุงูุจูุงูุงุช
   - โ ุฑุณุงูุฉ ูู Console: "ุงูููุชุฌุงุช ูุญููุฉ ุจุงููุนู ูู cache"

### ุงุฎุชุจุงุฑ 5: ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ

1. ุงูุชุญ `/designs` ุนูู ุฌูุงุฒ ูุญููู (ุฃู Chrome DevTools โ Mobile)
2. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
   - โ ุชุญููู ุณุฑูุน ุญุชู ุนูู 3G
   - โ ุตูุฑ responsive (ุฃุญุฌุงู ููุงุณุจุฉ ููุดุงุดุฉ)
   - โ infinite scroll ูุนูู ุจุณูุงุณุฉ

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### 1. `src/app/designs/page.tsx`
**ุงูุชุบููุฑุงุช:**
- โ ุฅุถุงูุฉ Infinite Scroll logic
- โ ุฅุถุงูุฉ ProductSkeleton component
- โ ุงุณุชุจุฏุงู `<img>` ุจู `<Image>`
- โ ุฅุถุงูุฉ loading indicators
- โ ุชุญุณูู animation delays

### 2. `src/store/shopStore.ts`
**ุงูุชุบููุฑุงุช:**
- โ ุฅุถุงูุฉ caching logic ูู `loadProducts()`
- โ ุชุฌูุจ ุฅุนุงุฏุฉ ุงูุชุญููู ุฅุฐุง ูุงูุช ุงูููุชุฌุงุช ูุญููุฉ

### 3. `next.config.ts`
**ุงูุชุบููุฑุงุช:**
- โ ุฅุถุงูุฉ `images` configuration
- โ ุชูุนูู Supabase Storage domains
- โ ุชูุนูู WebP ู AVIF formats
- โ ุชุญุฏูุฏ device sizes ู image sizes

---

## ๐ฏ ุฃูุถู ุงูููุงุฑุณุงุช ุงููุทุจูุฉ

### 1. Progressive Loading
- ุชุญููู ุงููุญุชูู ุชุฏุฑูุฌูุงู ุญุณุจ ุงูุญุงุฌุฉ
- ุชุญุณูู perceived performance

### 2. Lazy Loading
- ุชุญููู ุงูุตูุฑ ููุท ุนูุฏ ุงูุญุงุฌุฉ
- ุชูููุฑ bandwidth

### 3. Caching
- ุชุฎุฒูู ุงูุจูุงูุงุช ูุญููุงู
- ุชูููู ุทูุจุงุช ุงูุดุจูุฉ

### 4. Skeleton Screens
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุฃุซูุงุก ุงูุชุญููู
- ุดุนูุฑ ุจุงูุณุฑุนุฉ

### 5. Image Optimization
- ุถุบุท ุชููุงุฆู
- responsive images
- modern formats (WebP, AVIF)

---

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

### 1. Server-Side Rendering (SSR)
- ุชุญููู ุงูุตูุญุฉ ุฅูู SSR ูุชุญุณูู SEO
- ุชุญููู ุฃุณุฑุน ูููุญุชูู ุงูุฃููู

### 2. CDN ููุตูุฑ
- ุงุณุชุฎุฏุงู Cloudflare ุฃู Vercel Image Optimization
- ุชุญุณูู ุณุฑุนุฉ ุชุญููู ุงูุตูุฑ ุนุงูููุงู

### 3. Prefetching
- ุชุญููู ุงูุตูุญุฉ ุงูุชุงููุฉ ูุณุจูุงู
- ุชุญุณูู ุชุฌุฑุจุฉ ุงูุชููู

### 4. Virtual Scrolling
- ุนุฑุถ ุงูููุชุฌุงุช ุงููุฑุฆูุฉ ููุท ูู DOM
- ุชุญุณูู ุงูุฃุฏุงุก ูุน ุขูุงู ุงูููุชุฌุงุช

### 5. Service Worker
- ุชุฎุฒูู ุงูุตูุฑ ูู cache
- ุฏุนู offline mode

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025-11-01  
**ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-01  
**ุงูุญุงูุฉ:** โ ูุทุจู ููุนูู

