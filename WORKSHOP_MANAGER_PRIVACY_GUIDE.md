# ุฏููู ุฅุฎูุงุก ุงููุนูููุงุช ุงูุญุณุงุณุฉ ููุฏูุฑ ุงููุฑุดุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ููุฒุฉ ุฅุฎูุงุก ุงููุนูููุงุช ุงูุญุณุงุณุฉ (ุงูุณุนุฑ ูุฑูู ุงููุงุชู) ูู ุตูุญุงุช ุงูุทูุจุงุช ุงูุชู ูุตู ุฅูููุง **ูุฏูุฑ ุงููุฑุดุฉ** (Workshop Manager).

---

## ๐ ุงููุนูููุงุช ุงููุฎููุฉ

### 1. **ุงูุณุนุฑ** (Price)
- **ูุธูุฑ ูู:** `---`
- **ุงูุญููู ุงููุชุฃุซุฑุฉ:**
  - `order.price`
  - `total_price`
  - `amount`

### 2. **ุฑูู ุงููุงุชู** (Phone Number)
- **ูุธูุฑ ูู:** `***`
- **ุงูุญููู ุงููุชุฃุซุฑุฉ:**
  - `order.client_phone`
  - `phone_number`

---

## ๐ ุงูุตูุญุงุช ุงููุญุฏุซุฉ

### โ 1. ุตูุญุฉ ุงูุทูุจุงุช ุงูุญุฏูุซุฉ
**ุงููุณุงุฑ:** `/dashboard/orders`  
**ุงูููู:** `src/app/dashboard/orders/page.tsx`

**ุงูุชุบููุฑุงุช:**
- โ ุฅุฎูุงุก ุงูุณุนุฑ ูู ุจุทุงูุฉ ุงูุทูุจ (Order Card)
- โ ุฑูู ุงููุงุชู ุบูุฑ ูุนุฑูุถ ูู ุงูุจุทุงูุฉ ุงูุฑุฆูุณูุฉ
- โ `OrderModal` ูุฎูู ุงูุณุนุฑ ูุฑูู ุงููุงุชู ุชููุงุฆูุงู ููุนูุงู

**ุงูููุฏ ุงููุณุชุฎุฏู:**
```typescript
<p className="text-lg font-bold text-green-600">
  {workerType === 'workshop_manager' ? '---' : `${order.price} ${t('sar')}`}
</p>
```

---

### โ 2. ุตูุญุฉ ุงูุทูุจุงุช ุงูููุชููุฉ
**ุงููุณุงุฑ:** `/dashboard/completed-orders`  
**ุงูููู:** `src/app/dashboard/completed-orders/page.tsx`

**ุงูุชุบููุฑุงุช:**
- โ ุฅุฎูุงุก ุงูุณุนุฑ ูู ุจุทุงูุฉ ุงูุทูุจ
- โ ุฅุฎูุงุก ุฑูู ุงููุงุชู ูู ุจุทุงูุฉ ุงูุทูุจ
- โ ุฅุฎูุงุก ุงูุณุนุฑ ูู ูุงูุฐุฉ ุงูุชุณููู (Delivery Modal)
- โ ุฅุฎูุงุก ุฑูู ุงููุงุชู ูู ูุงูุฐุฉ ุงูุชุณููู

**ุงูููุฏ ุงููุณุชุฎุฏู:**
```typescript
// ูู ุจุทุงูุฉ ุงูุทูุจ
<span>ุงููุงุชู: {workerType === 'workshop_manager' ? '***' : order.client_phone}</span>

<p className="text-lg font-bold text-green-600">
  {workerType === 'workshop_manager' ? '---' : `${order.price} ุฑูุงู`}
</p>

// ูู ูุงูุฐุฉ ุงูุชุณููู
<p className="font-medium text-gray-800">
  {workerType === 'workshop_manager' ? '***' : selectedOrder.client_phone}
</p>

<p className="font-medium text-green-600 text-lg">
  {workerType === 'workshop_manager' ? '---' : `${selectedOrder.price} ุฑูุงู`}
</p>
```

---

### โ 3. ุตูุญุฉ ุงูุทูุจุงุช ุงููุณููุฉ
**ุงููุณุงุฑ:** `/dashboard/delivered-orders`  
**ุงูููู:** `src/app/dashboard/delivered-orders/page.tsx`

**ุงูุชุบููุฑุงุช:**
- โ ุฅุฎูุงุก ุงูุณุนุฑ ูู ุจุทุงูุฉ ุงูุทูุจ
- โ ุฅุฎูุงุก ุฑูู ุงููุงุชู ูู ุจุทุงูุฉ ุงูุทูุจ
- โ ุฅุฎูุงุก ุงูุณุนุฑ ูู ูุงูุฐุฉ ุงูุนุฑุถ (View Modal)
- โ ุฅุฎูุงุก ุฑูู ุงููุงุชู ูู ูุงูุฐุฉ ุงูุนุฑุถ

**ุงูููุฏ ุงููุณุชุฎุฏู:**
```typescript
// ูู ุจุทุงูุฉ ุงูุทูุจ
<span>ุงููุงุชู: {workerType === 'workshop_manager' ? '***' : order.client_phone}</span>

<p className="text-2xl font-bold text-purple-600">
  {workerType === 'workshop_manager' ? '---' : `${order.price} ุฑูุงู`}
</p>

// ูู ูุงูุฐุฉ ุงูุนุฑุถ
<p className="font-medium text-gray-800">
  {workerType === 'workshop_manager' ? '***' : selectedOrder.client_phone}
</p>

<p className="font-medium text-purple-600 text-lg">
  {workerType === 'workshop_manager' ? '---' : `${selectedOrder.price} ุฑูุงู`}
</p>
```

---

### โ 4. ูุงูุฐุฉ ุนุฑุถ ุชูุงุตูู ุงูุทูุจ (OrderModal)
**ุงูููู:** `src/components/OrderModal.tsx`

**ุงูุญุงูุฉ:** โ **ูุง ูุญุชุงุฌ ุชุนุฏูู**

**ุงูุณุจุจ:**
- `OrderModal` ูุณุชุฎุฏู ุจุงููุนู `user?.role === 'admin'` ููุชุญูู ูู ุงูุตูุงุญูุงุช
- ูุฏูุฑ ุงููุฑุดุฉ ูู `role = 'worker'` ูููุณ `admin`
- ูุฐููุ ุงูุณุนุฑ ูุฑูู ุงููุงุชู **ูุฎููุงู ุชููุงุฆูุงู** ููุฏูุฑ ุงููุฑุดุฉ

**ุงูููุฏ ุงูููุฌูุฏ:**
```typescript
{/* ุฑูู ุงููุงุชู - ูููุฏุฑุงุก ููุท */}
{user?.role === 'admin' && order.client_phone && (
  <div>
    <Phone className="w-4 h-4" />
    <span>{t('phone')}: {order.client_phone}</span>
  </div>
)}

{/* ุงูุณุนุฑ - ูููุฏุฑุงุก ููุท */}
{user?.role === 'admin' && (
  <div>
    <span>{t('price')}: {order.price} {t('sar')}</span>
  </div>
)}
```

---

## ๐ฏ ุงูุชุฃุซูุฑ ุนูู ุฃููุงุน ุงูุนูุงู

| ููุน ุงูุนุงูู | ุงูุณุนุฑ | ุฑูู ุงููุงุชู | ุงูููุงุญุธุงุช |
|------------|-------|------------|-----------|
| **Admin** | โ ูุธูุฑ | โ ูุธูุฑ | ูุฑู ุฌููุน ุงููุนูููุงุช |
| **Workshop Manager** | โ ูุฎูู (`---`) | โ ูุฎูู (`***`) | ูุง ูุฑู ุงููุนูููุงุช ุงูุญุณุงุณุฉ |
| **Tailor** | โ ูุฎูู | โ ูุฎูู | ูุฑู ุทูุจุงุชู ููุท |
| **Fabric Manager** | โ ูุง ูุตู | โ ูุง ูุตู | ูุง ูุตู ูุตูุญุงุช ุงูุทูุจุงุช |
| **Accountant** | โ ูุง ูุตู | โ ูุง ูุตู | ูุง ูุตู ูุตูุญุงุช ุงูุทูุจุงุช |
| **General Manager** | โ ูุธูุฑ | โ ูุธูุฑ | ูุฑู ุฌููุน ุงููุนูููุงุช |

---

## ๐ ุงูุชุญูู ูู ุงูุชุทุจูู

### ุงูุฎุทูุงุช:
1. โ ุณุฌู ุฏุฎูู ูู **ูุฏูุฑ ูุฑุดุฉ** (Workshop Manager)
2. โ ุงูุชูู ุฅูู `/dashboard/orders` - ุชุญูู ูู ุฅุฎูุงุก ุงูุณุนุฑ
3. โ ุงูุชูู ุฅูู `/dashboard/completed-orders` - ุชุญูู ูู ุฅุฎูุงุก ุงูุณุนุฑ ูุฑูู ุงููุงุชู
4. โ ุงูุชูู ุฅูู `/dashboard/delivered-orders` - ุชุญูู ูู ุฅุฎูุงุก ุงูุณุนุฑ ูุฑูู ุงููุงุชู
5. โ ุงูุชุญ ูุงูุฐุฉ ุนุฑุถ ุงูุทูุจ (View Modal) - ุชุญูู ูู ุนุฏู ุธููุฑ ุงูุณุนุฑ ูุฑูู ุงููุงุชู
6. โ ุณุฌู ุฏุฎูู ูู **Admin** - ุชุญูู ูู ุธููุฑ ุฌููุน ุงููุนูููุงุช

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

โ **ุชู ุฅุฎูุงุก ุงููุนูููุงุช ุงูุญุณุงุณุฉ ุจูุฌุงุญ!**

- โ ูุฏูุฑ ุงููุฑุดุฉ ูุง ูุฑู ุงูุณุนุฑ (ูุธูุฑ `---`)
- โ ูุฏูุฑ ุงููุฑุดุฉ ูุง ูุฑู ุฑูู ุงููุงุชู (ูุธูุฑ `***`)
- โ ุงููุฏูุฑ (Admin) ูุฑู ุฌููุน ุงููุนูููุงุช
- โ ุงูุชุตููู ูุชูุงุณู ููุง ุชูุฌุฏ ูุดุงูู ูู ุงูุนุฑุถ
- โ ูุง ุชุฃุซูุฑ ุนูู ุฃููุงุน ุงูุนูุงู ุงูุฃุฎุฑู

**ุงูุขู ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุน ููุฒุฉ ุงูุฎุตูุตูุฉ ุงูุฌุฏูุฏุฉ!** ๐

---

## ๐ ุฅุตูุงุญ ูุดููุฉ ุนุฏู ุธููุฑ ุงูุทูุจุงุช ุงูุญุฏูุซุฉ

### **ุงููุดููุฉ:**
- ูุฏูุฑ ุงููุฑุดุฉ ูุง ูุฑู ุฃู ุทูุจุงุช ูู ุตูุญุฉ `/dashboard/orders` (ุงูุทูุจุงุช ุงูุญุฏูุซุฉ)
- ุจูููุง ูุฑู ุงูุทูุจุงุช ุจุดูู ุทุจูุนู ูู ุตูุญุงุช ุงูุทูุจุงุช ุงูููุชููุฉ ูุงููุณููุฉ

### **ุงูุณุจุจ:**
ูุงู ููุงู ููุชุฑุฉ ุญุณุจ ุงูุฏูุฑ ูู ุตูุญุฉ ุงูุทูุจุงุช ุงูุญุฏูุซุฉ:
```typescript
// ุงูููุฏ ุงููุฏูู
let matchesRole = user?.role === 'admin'

if (!matchesRole && user?.role === 'worker') {
  const currentWorker = workers.find(w => w.user_id === user.id)
  if (currentWorker) {
    matchesRole = order.worker_id === currentWorker.id // ุงูุนูุงู ูุฑูู ุทูุจุงุชูู ููุท
  }
}
```

ูุฐุง ุงูููุฏ ูุงู ูุณูุญ ููุท ููู **admin** ุจุฑุคูุฉ ุฌููุน ุงูุทูุจุงุชุ ุจูููุง **ุงูุนูุงู** (ุจูุง ูููู ูุฏูุฑ ุงููุฑุดุฉ) ูุฑูู ููุท ุงูุทูุจุงุช ุงููุนููุฉ ููู.

### **ุงูุญู:**
ุชู ุฅุถุงูุฉ ุงุณุชุซูุงุก ููุฏูุฑ ุงููุฑุดุฉ ููุฑู ุฌููุน ุงูุทูุจุงุช:
```typescript
// ุงูููุฏ ุงูุฌุฏูุฏ
let matchesRole = user?.role === 'admin' || workerType === 'workshop_manager'

if (!matchesRole && user?.role === 'worker') {
  const currentWorker = workers.find(w => w.user_id === user.id)
  if (currentWorker) {
    matchesRole = order.worker_id === currentWorker.id
  }
}
```

### **ุงููุชูุฌุฉ:**
โ ูุฏูุฑ ุงููุฑุดุฉ ุงูุขู ูุฑู ุฌููุน ุงูุทูุจุงุช ุงูุญุฏูุซุฉ (pending ู in_progress)
โ ูุง ุชุฃุซูุฑ ุนูู ุฃููุงุน ุงูุนูุงู ุงูุฃุฎุฑู
โ Admin ูุฑู ุฌููุน ุงูุทูุจุงุช ูุงููุนุชุงุฏ
โ Tailors ูุฑูู ุทูุจุงุชูู ุงููุนููุฉ ููู ููุท

