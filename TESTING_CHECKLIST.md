# โ ูุงุฆูุฉ ุงูุงุฎุชุจุงุฑ - ุฅุตูุงุญ ูุดููุฉ ุนุฏู ุธููุฑ ุงููุณุงุชูู ุงูุฌุฏูุฏุฉ

## ๐ ุงูุฅุตูุงุญุงุช ุงูุชู ุชู ุชุทุจูููุง ุชููุงุฆูุงู

### โ 1. ุชุนุฏูู ููุฏ ููุญุฉ ุงูุชุญูู
- **ุงูููู:** `src/app/dashboard/ready-designs/page.tsx`
- **ุงูุชุนุฏูู:** ุฅุถุงูุฉ `published_at: new Date().toISOString()` ุนูุฏ ุฅูุดุงุก ููุชุฌ ุฌุฏูุฏ (ุงูุณุทุฑ 233)
- **ุงููุชูุฌุฉ:** ุฌููุน ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ ุณุชุญุตู ุนูู ุชุงุฑูุฎ ูุดุฑ ุชููุงุฆูุงู

### โ 2. ุฅุถุงูุฉ ุชุญุฏูุซ ุชููุงุฆู ูููุชุฌุฑ
- **ุงูููู:** `src/app/dashboard/ready-designs/page.tsx`
- **ุงูุชุนุฏูู:** ุฅุถุงูุฉ ููุฏ ูุชุญุฏูุซ ุงููุชุฌุฑ ุงูุฃูุงูู ุจุนุฏ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ (ุงูุณุทูุฑ 256-264)
- **ุงููุชูุฌุฉ:** ุงููุชุฌุฑ ุณูุชุญุฏุซ ุชููุงุฆูุงู ุจุนุฏ ุฅุถุงูุฉ ูุณุชุงู ุฌุฏูุฏ

---

## ๐ง ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ ููู (ูุฏููุงู)

### ๐ด ุฅุฌุฑุงุก ุฅูุฒุงูู: ุชุทุจูู ุณูุฑูุจุช SQL ุนูู Supabase

**ุงูุฎุทูุงุช:**

1. **ุงูุชุญ Supabase Dashboard:**
   - ุงูุชูู ุฅูู: https://supabase.com/dashboard
   - ุงุฎุชุฑ ูุดุฑูุนู (Yasmin Al-Sham)

2. **ุงูุชุญ SQL Editor:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ **SQL Editor**
   - ุฃู ุงูุชูู ูุจุงุดุฑุฉ ุฅูู: `https://supabase.com/dashboard/project/YOUR_PROJECT_ID/sql`

3. **ูุณุฎ ููุตู ุงูุณูุฑูุจุช:**
   - ุงูุชุญ ุงูููู: `SUPABASE_FIX_INSTRUCTIONS.sql`
   - ุงูุณุฎ **ุงูุฎุทูุงุช 2 ู 3 ู 5** ููุท (ุงูุณุทูุฑ 28-73)
   - ุงูุตู ูู SQL Editor

4. **ุชูููุฐ ุงูุณูุฑูุจุช:**
   - ุงุถุบุท ุนูู ุฒุฑ **Run** ุฃู **Ctrl+Enter**
   - ุงูุชุธุฑ ุญุชู ููุชูู ุงูุชูููุฐ

5. **ุงูุชุญูู ูู ุงููุฌุงุญ:**
   - ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ ูุฌุงุญ
   - ูู ุจุชุดุบูู ุงูุงุณุชุนูุงู ุงูุชุงูู ููุชุญูู:
   ```sql
   SELECT policyname, qual 
   FROM pg_policies 
   WHERE tablename = 'products' 
   AND policyname = 'Anyone can view available products';
   ```
   - ูุฌุจ ุฃู ูุธูุฑ ูู `qual`: `(is_available = true) AND ((published_at IS NULL) OR (published_at <= now()))`

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุฅุตูุงุญ

### ุงุฎุชุจุงุฑ 1: ุฅุถุงูุฉ ูุณุชุงู ุฌุฏูุฏ ูู ููุญุฉ ุงูุชุญูู

1. **ุงูุชุญ ููุญุฉ ุงูุชุญูู:**
   ```
   http://localhost:3001/dashboard/ready-designs
   ```

2. **ุฃุถู ูุณุชุงู ุฌุฏูุฏ:**
   - ุงุถุบุท ุนูู ุฒุฑ "ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ"
   - ุงููุฃ ุฌููุน ุงูุญููู ุงููุทููุจุฉ
   - ุงุฑูุน ุตูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู
   - ุงุถุบุท "ุญูุธ"

3. **ุชุญูู ูู ุธููุฑู ูู ููุญุฉ ุงูุชุญูู:**
   - ูุฌุจ ุฃู ูุธูุฑ ุงููุณุชุงู ุงูุฌุฏูุฏ ูู ุฃุนูู ุงููุงุฆูุฉ
   - ุชุญูู ูู Console (F12) - ูุฌุจ ุฃู ุชุฑู:
     ```
     โ ุชู ุฅุถุงูุฉ ุงูููุชุฌ ุจูุฌุงุญ
     ๐ ุชุญุฏูุซ ุงููุชุฌุฑ ุงูุฃูุงูู...
     โ ุชู ุชุญุฏูุซ ุงููุชุฌุฑ ุงูุฃูุงูู ุจูุฌุงุญ
     ```

### ุงุฎุชุจุงุฑ 2: ุงูุชุญูู ูู ุธููุฑู ูู ุตูุญุฉ ุงููุชุฌุฑ

1. **ุงูุชุญ ุตูุญุฉ ุงููุชุฌุฑ:**
   ```
   http://localhost:3001/designs
   ```

2. **ุชุญูู ูู ุธููุฑ ุงููุณุชุงู:**
   - ูุฌุจ ุฃู ูุธูุฑ ุงููุณุชุงู ุงูุฌุฏูุฏ ูู ุงููุงุฆูุฉ
   - ุฅุฐุง ูู ูุธูุฑุ ุงุถุบุท **Ctrl+Shift+R** ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ุจุฏูู cache

3. **ุงูุชุญ Console (F12) ูุชุญูู ูู ุงูุฑุณุงุฆู:**
   - ูุฌุจ ุฃู ุชุฑู:
     ```
     ๐ ุชุญููู ุงูููุชุฌุงุช ูู Supabase...
     โ ุชู ุชุญููู X ููุชุฌ ูู Supabase
     ```

### ุงุฎุชุจุงุฑ 3: ุงูุชุญูู ูู ูุถุน Incognito (ุจุฏูู ุชุณุฌูู ุฏุฎูู)

1. **ุงูุชุญ ูุงูุฐุฉ Incognito:**
   - Chrome/Edge: **Ctrl+Shift+N**
   - Firefox: **Ctrl+Shift+P**

2. **ุงูุชูู ุฅูู ุตูุญุฉ ุงููุชุฌุฑ:**
   ```
   http://localhost:3001/designs
   ```

3. **ุชุญูู ูู ุธููุฑ ุงููุณุชุงู:**
   - ูุฌุจ ุฃู ูุธูุฑ ุงููุณุชุงู ุงูุฌุฏูุฏ ุญุชู ุจุฏูู ุชุณุฌูู ุฏุฎูู
   - ูุฐุง ูุคูุฏ ุฃู ุณูุงุณุฉ RLS ุชุนูู ุจุดูู ุตุญูุญ

### ุงุฎุชุจุงุฑ 4: ุงูุชุญูู ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

1. **ุงูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ:**
   ```
   http://localhost:3001/
   ```

2. **ุงูุชูู ุฅูู ูุณู "ุชุตุงููููุง ุงูุฌุงูุฒุฉ":**
   - ูุฌุจ ุฃู ูุธูุฑ ุงููุณุชุงู ุงูุฌุฏูุฏ ูู ุฃูู 4 ูุณุงุชูู (ุฅุฐุง ูุงู ูุชุงุญุงู)

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงููุณุชุงู ูุง ูุธูุฑ ูู ุงููุชุฌุฑ ุจุนุฏ ุงูุฅุถุงูุฉ

**ุงูุญููู:**

1. **ุชุญูู ูู ุชุทุจูู ุณูุฑูุจุช SQL:**
   - ุงูุชุญ Supabase SQL Editor
   - ูู ุจุชุดุบูู:
   ```sql
   SELECT id, title, is_available, published_at 
   FROM public.products 
   ORDER BY created_at DESC 
   LIMIT 5;
   ```
   - ุชุญูู ูู ุฃู `published_at` ููุณ NULL ููููุชุฌุงุช ุงูุฌุฏูุฏุฉ

2. **ุชุญูู ูู ุณูุงุณุฉ RLS:**
   ```sql
   SELECT policyname, qual 
   FROM pg_policies 
   WHERE tablename = 'products';
   ```
   - ูุฌุจ ุฃู ุชุฑู ุณูุงุณุฉ "Anyone can view available products"
   - ูุฌุจ ุฃู ูุญุชูู `qual` ุนูู: `published_at IS NULL OR published_at <= NOW()`

3. **ุงูุณุญ Cache ุงููุชุตูุญ:**
   - ุงุถุบุท **Ctrl+Shift+R** ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ุจุฏูู cache
   - ุฃู ุงูุณุญ cache ุงููุชุตูุญ ุจุงููุงูู

4. **ุชุญูู ูู Console ููุฃุฎุทุงุก:**
   - ุงูุชุญ Console (F12)
   - ุงุจุญุซ ุนู ุฃู ุฑุณุงุฆู ุฎุทุฃ ุจุงูููู ุงูุฃุญูุฑ
   - ุฅุฐุง ูุฌุฏุช ุฎุทุฃ RLSุ ุชุฃูุฏ ูู ุชุทุจูู ุณูุฑูุจุช SQL

### ุงููุดููุฉ: ุฎุทุฃ ูู ุชุญุฏูุซ ุงููุชุฌุฑ ุงูุฃูุงูู

**ุงูุญู:**
- ูุฐุง ุชุญุฐูุฑ ููุท ูููุณ ุฎุทุฃ ุญุฑุฌ
- ุงูููุชุฌ ุณูุธูุฑ ุจุนุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ูุฏููุงู

---

## ๐ ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงุณุชุนูุงู 1: ุนุฑุถ ุฌููุน ุงูููุชุฌุงุช ุงููุชุงุญุฉ

```sql
SELECT 
  id,
  title,
  is_available,
  published_at,
  created_at,
  CASE 
    WHEN published_at IS NULL THEN 'โ ุณูุธูุฑ (ุจุฏูู ุชุงุฑูุฎ ูุดุฑ)'
    WHEN published_at <= NOW() THEN 'โ ุณูุธูุฑ (ููุดูุฑ)'
    ELSE 'โ ูู ูุธูุฑ (ููุนุฏ ูุดุฑ ูุณุชูุจูู)'
  END as "ุญุงูุฉ ุงูุธููุฑ"
FROM public.products 
WHERE is_available = true
ORDER BY created_at DESC;
```

### ุงุณุชุนูุงู 2: ุฅุญุตุงุฆูุงุช ุงูููุชุฌุงุช

```sql
SELECT 
  COUNT(*) FILTER (WHERE is_available = true) as "ููุชุฌุงุช ูุชุงุญุฉ",
  COUNT(*) FILTER (WHERE is_available = true AND published_at IS NOT NULL) as "ููุชุฌุงุช ูุชุงุญุฉ ูููุดูุฑุฉ",
  COUNT(*) FILTER (WHERE is_available = true AND published_at IS NULL) as "ููุชุฌุงุช ูุชุงุญุฉ ุจุฏูู ุชุงุฑูุฎ ูุดุฑ",
  COUNT(*) FILTER (WHERE is_available = false) as "ููุชุฌุงุช ุบูุฑ ูุชุงุญุฉ",
  COUNT(*) as "ุฅุฌูุงูู ุงูููุชุฌุงุช"
FROM public.products;
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [ ] ุชู ุชุทุจูู ุณูุฑูุจุช SQL ุนูู Supabase
- [ ] ุชู ุงูุชุญูู ูู ุณูุงุณุฉ RLS ุงูุฌุฏูุฏุฉ
- [ ] ุชู ุฅุถุงูุฉ ูุณุชุงู ุฌุฏูุฏ ูู ููุญุฉ ุงูุชุญูู
- [ ] ุงููุณุชุงู ุงูุฌุฏูุฏ ูุธูุฑ ูู ููุญุฉ ุงูุชุญูู
- [ ] ุงููุณุชุงู ุงูุฌุฏูุฏ ูุธูุฑ ูู ุตูุญุฉ `/designs`
- [ ] ุงููุณุชุงู ุงูุฌุฏูุฏ ูุธูุฑ ูู ูุถุน Incognito
- [ ] ุงููุณุชุงู ุงูุฌุฏูุฏ ูุธูุฑ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (ูุณู ุชุตุงููููุง ุงูุฌุงูุฒุฉ)
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console
- [ ] ุชู ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุงูุงุณุชุนูุงูุงุช ุฃุนูุงู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู ุจุนุฏ ุชุทุจูู ุงูุฅุตูุงุญุงุช:

1. **ุชุญูู ูู Console (F12)** ููุฃุฎุทุงุก
2. **ุชุญูู ูู Supabase Logs** ูู Dashboard
3. **ูู ุจุชุดุบูู ุงุณุชุนูุงูุงุช ุงูุชุญูู** ุงููุฐููุฑุฉ ุฃุนูุงู
4. **ุชุฃูุฏ ูู ุชุทุจูู ุฌููุน ุงูุฎุทูุงุช** ุจุงูุชุฑุชูุจ

---

## ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุชุทุจูู ุฌููุน ุงูุฅุตูุงุญุงุช:

โ ุฌููุน ุงููุณุงุชูู ุงูุฌุฏูุฏุฉ ุณุชุธูุฑ ููุฑุงู ูู ุงููุชุฌุฑ  
โ ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ูุฏููุงู  
โ ุงููุณุชุฎุฏููู ุบูุฑ ุงููุณุฌููู ูููููู ุฑุคูุฉ ุฌููุน ุงููุณุงุชูู ุงููุชุงุญุฉ  
โ ููุญุฉ ุงูุชุญูู ุชุนูู ุจุณูุงุณุฉ  
โ ูุง ุชูุฌุฏ ูุดุงูู ูู RLS ุฃู ุงูุตูุงุญูุงุช  

