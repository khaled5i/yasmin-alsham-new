# ๐ ุฏููู ุฅูุดุงุก ูุณุชุฎุฏู Admin - ุญู ูุดููุฉ "Invalid login credentials"

## ๐ฏ ุงููุดููุฉ

ุนูุฏ ูุญุงููุฉ ุชุณุฌูู ุงูุฏุฎูู ุฅูู ููุญุฉ ุงูุชุญููุ ูุธูุฑ ุฎุทุฃ:
```
Error: Invalid login credentials
```

**ุงูุณุจุจ:** ูุง ููุฌุฏ ูุณุชุฎุฏู admin ูู ูุงุนุฏุฉ ุจูุงูุงุช Supabase!

---

## โ ุงูุญู: ุฅูุดุงุก ูุณุชุฎุฏู Admin

### ุงูุทุฑููุฉ 1: ุฅูุดุงุก Admin ุนุจุฑ Supabase Dashboard (ุงูุฃุณูู) โญ

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุงููุณุชุฎุฏู ูู Supabase Auth

1. ุงูุชุญ **Supabase Dashboard**:
   ```
   https://app.supabase.com
   ```

2. ุงุฎุชุฑ ูุดุฑูุนู (yasmin-alsham)

3. ุงุฐูุจ ุฅูู **Authentication** โ **Users**

4. ุงููุฑ ุนูู **Add user** โ **Create new user**

5. ุฃุฏุฎู ุงูุจูุงูุงุช ุงูุชุงููุฉ:
   ```
   Email: admin@yasminalsh.com
   Password: Admin@123456
   ```
   (ุฃู ุฃู ูููุฉ ูุฑูุฑ ูููุฉ ุชุฑูุฏูุง)

6. โ **ููู ุฌุฏุงู:** ูุนูู ุฎูุงุฑ **Auto Confirm User**

7. ุงููุฑ ุนูู **Create user**

8. **ุงุญูุธ UUID** ุงูุฐู ูุธูุฑ (ุณุชุญุชุงุฌู ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ)
   - ูุซุงู: `a1b2c3d4-e5f6-7890-abcd-ef1234567890`

---

#### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ุจูุงูุงุช Admin ูู ุฌุฏูู users

1. ูู Supabase Dashboardุ ุงุฐูุจ ุฅูู **SQL Editor**

2. ุงููุฑ ุนูู **New query**

3. ุงูุณุฎ ูุงูุตู ุงูููุฏ ุงูุชุงูู (ุงุณุชุจุฏู `YOUR_UUID_HERE` ุจุงูู UUID ูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ):

```sql
-- ุฅุถุงูุฉ ูุณุชุฎุฏู Admin ูู ุฌุฏูู users
INSERT INTO users (id, email, full_name, phone, role, is_active)
VALUES (
  'YOUR_UUID_HERE',  -- โ๏ธ ุงุณุชุจุฏู ูุฐุง ุจุงูู UUID ุงูุญูููู
  'admin@yasminalsh.com',
  'ูุฏูุฑ ุงููุธุงู',
  '+966500000000',
  'admin',
  true
);
```

4. ุงููุฑ ุนูู **Run** ุฃู ุงุถุบุท `Ctrl+Enter`

5. ุชุญูู ูู ุฑุณุงูุฉ ุงููุฌุงุญ:
   ```
   Success. No rows returned
   ```

---

#### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุฅูุดุงุก ุงููุณุชุฎุฏู

ูู SQL Editorุ ููุฐ ุงูุงุณุชุนูุงู ุงูุชุงูู:

```sql
-- ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู
SELECT id, email, full_name, role, is_active 
FROM users 
WHERE email = 'admin@yasminalsh.com';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
id                                   | email                  | full_name      | role  | is_active
-------------------------------------|------------------------|----------------|-------|----------
a1b2c3d4-e5f6-7890-abcd-ef1234567890 | admin@yasminalsh.com   | ูุฏูุฑ ุงููุธุงู    | admin | true
```

---

#### ุงูุฎุทูุฉ 4: ุชุณุฌูู ุงูุฏุฎูู

1. ุงูุชุญ ุงููููุน:
   ```
   http://localhost:3000/login
   ```

2. ุฃุฏุฎู ุจูุงูุงุช ุงูุงุนุชูุงุฏ:
   ```
   Email: admin@yasminalsh.com
   Password: Admin@123456
   ```
   (ุฃู ูููุฉ ุงููุฑูุฑ ุงูุชู ุงุฎุชุฑุชูุง)

3. ุงููุฑ ุนูู **ุชุณุฌูู ุงูุฏุฎูู**

4. โ ูุฌุจ ุฃู ูุชู ุชูุฌููู ุฅูู ููุญุฉ ุงูุชุญูู `/dashboard`

---

## ๐ง ุงูุทุฑููุฉ 2: ุฅูุดุงุก Admin ุนุจุฑ SQL ูุจุงุดุฑุฉ (ูุชูุฏู)

ุฅุฐุง ููุช ุชุฑูุฏ ุฅูุดุงุก ุงููุณุชุฎุฏู ุจุงููุงูู ุนุจุฑ SQL:

### ุงูุฎุทูุฉ 1: ุชูุนูู Auto Confirm ูู Supabase

1. ุงุฐูุจ ุฅูู **Authentication** โ **Settings**
2. ุงุจุญุซ ุนู **Email Auth**
3. ูุนูู **Auto confirm users** โ **ON**
4. ุงุญูุธ ุงูุชุบููุฑุงุช

---

### ุงูุฎุทูุฉ 2: ุชูููุฐ SQL Script

ูู SQL Editorุ ููุฐ ุงูููุฏ ุงูุชุงูู:

```sql
-- โ๏ธ ูุฐุง ุงูููุฏ ูุชุทูุจ Service Role Key ููุง ูุนูู ูู SQL Editor ุงูุนุงุฏู
-- ุงุณุชุฎุฏู ุงูุทุฑููุฉ 1 ุจุฏูุงู ูู ุฐูู

-- ุงูุจุฏูู: ุฅูุดุงุก ุงููุณุชุฎุฏู ูุฏููุงู ุนุจุฑ Dashboard ุซู ุชูููุฐ ูุฐุง:
INSERT INTO users (id, email, full_name, phone, role, is_active)
VALUES (
  'UUID-ูู-Supabase-Auth',
  'admin@yasminalsh.com',
  'ูุฏูุฑ ุงููุธุงู',
  '+966500000000',
  'admin',
  true
);
```

---

## ๐จ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ 1: "new row violates row-level security policy"

**ุงูุณุจุจ:** ุณูุงุณุงุช RLS ุชููุน ุฅุถุงูุฉ ุณุฌูุงุช ูู ุฌุฏูู `users`

**ุงูุญู:**

1. ูู SQL Editorุ ููุฐ:

```sql
-- ุชุนุทูู RLS ูุคูุชุงู ูุฅุถุงูุฉ Admin
ALTER TABLE users DISABLE ROW LEVEL SECURITY;

-- ุฅุถุงูุฉ ุงููุณุชุฎุฏู
INSERT INTO users (id, email, full_name, phone, role, is_active)
VALUES (
  'YOUR_UUID_HERE',
  'admin@yasminalsh.com',
  'ูุฏูุฑ ุงููุธุงู',
  '+966500000000',
  'admin',
  true
);

-- ุฅุนุงุฏุฉ ุชูุนูู RLS
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
```

---

### ุงููุดููุฉ 2: "User already exists"

**ุงูุณุจุจ:** ุงููุณุชุฎุฏู ููุฌูุฏ ูู Auth ููู ููุณ ูู ุฌุฏูู `users`

**ุงูุญู:**

1. ุงุญุตู ุนูู UUID ูู **Authentication** โ **Users**
2. ููุฐ ููุท ุงูุฌุฒุก ุงูุฎุงุต ุจุฅุถุงูุฉ ุงูุณุฌู ูู `users`:

```sql
INSERT INTO users (id, email, full_name, phone, role, is_active)
VALUES (
  'UUID-ุงูููุฌูุฏ-ูู-Auth',
  'admin@yasminalsh.com',
  'ูุฏูุฑ ุงููุธุงู',
  '+966500000000',
  'admin',
  true
);
```

---

### ุงููุดููุฉ 3: "Invalid login credentials" ุจุนุฏ ุฅูุดุงุก ุงููุณุชุฎุฏู

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**

1. **ูููุฉ ุงููุฑูุฑ ุฎุงุทุฆุฉ**
   - ุชุฃูุฏ ูู ูููุฉ ุงููุฑูุฑ ุงูุชู ุฃุฏุฎูุชูุง ูู Supabase Dashboard

2. **ุงููุณุชุฎุฏู ุบูุฑ ูุคูุฏ (Not Confirmed)**
   - ุงูุญู: ูู **Authentication** โ **Users**ุ ุงุจุญุซ ุนู ุงููุณุชุฎุฏู ูุงููุฑ **Confirm email**

3. **ุงููุณุชุฎุฏู ููุฌูุฏ ูู Auth ููู ููุณ ูู ุฌุฏูู users**
   - ุงูุญู: ููุฐ ุงุณุชุนูุงู INSERT ุฃุนูุงู

---

### ุงููุดููุฉ 4: "Email confirmations are enabled"

**ุงูุญู:**

1. ุงุฐูุจ ุฅูู **Authentication** โ **Settings**
2. **Email Auth** โ **Enable email confirmations** โ **OFF**
3. **Email Auth** โ **Auto confirm users** โ **ON**
4. ุงุญูุธ ุงูุชุบููุฑุงุช

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูุณุฑูุนุฉ

ูุจู ุชุณุฌูู ุงูุฏุฎููุ ุชุฃูุฏ ูู:

- [ ] ุงููุณุชุฎุฏู ููุฌูุฏ ูู **Authentication** โ **Users**
- [ ] ุงููุณุชุฎุฏู ูุคูุฏ (Confirmed) ุฃู Auto Confirm ููุนู
- [ ] ุงููุณุชุฎุฏู ููุฌูุฏ ูู ุฌุฏูู `users` ูุน `role = 'admin'`
- [ ] `is_active = true` ูู ุฌุฏูู `users`
- [ ] ูููุฉ ุงููุฑูุฑ ุตุญูุญุฉ

---

## ๐ฏ ุงุฎุชุจุงุฑ ุณุฑูุน

ุจุนุฏ ุฅูุดุงุก ุงููุณุชุฎุฏูุ ููุฐ ูุฐุง ุงูุงุณุชุนูุงู ููุชุญูู:

```sql
-- ุงูุชุญูู ุงูุดุงูู
SELECT 
  u.id,
  u.email,
  u.full_name,
  u.role,
  u.is_active,
  u.created_at
FROM users u
WHERE u.email = 'admin@yasminalsh.com';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ูุฌุจ ุฃู ูุธูุฑ ุณุฌู ูุงุญุฏ
- `role` ูุฌุจ ุฃู ูููู `'admin'`
- `is_active` ูุฌุจ ุฃู ูููู `true`

---

## ๐ ุจูุงูุงุช ุงูุงุนุชูุงุฏ ุงูุงูุชุฑุงุถูุฉ

ุจุนุฏ ุฅูุดุงุก ุงููุณุชุฎุฏูุ ุงุณุชุฎุฏู:

```
Email: admin@yasminalsh.com
Password: Admin@123456
```

โ๏ธ **ููู:** ุบููุฑ ูููุฉ ุงููุฑูุฑ ุจุนุฏ ุฃูู ุชุณุฌูู ุฏุฎูู!

---

## ๐ ุฅุฐุง ูู ููุฌุญ ุงูุญู

ุฅุฐุง ุฌุฑุจุช ุฌููุน ุงูุฎุทูุงุช ููู ููุฌุญ ุชุณุฌูู ุงูุฏุฎูู:

1. ุงูุชุญ Console ูู ุงููุชุตูุญ (F12)
2. ุงูุชูู ุฅูู ุชุจููุจ **Console**
3. ุญุงูู ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู
4. ุงูุณุฎ ุฌููุน ุงูุฃุฎุทุงุก ุงูุชู ุชุธูุฑ
5. ุฃุฑุณููุง ูู ูููุณุงุนุฏุฉ

---

## โ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ูุฌุงุญ ุชุณุฌูู ุงูุฏุฎูู:

1. โ ุบููุฑ ูููุฉ ุงููุฑูุฑ ูู ููุญุฉ ุงูุชุญูู
2. โ ุฃูุดุฆ ุนูุงู ุฌุฏุฏ ูู ุตูุญุฉ ุงูุนูุงู
3. โ ุงุฎุชุจุฑ ุฌููุน ุงูููุฒุงุช ูู ููุญุฉ ุงูุชุญูู
4. โ ุฃูุดุฆ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู ูุญู ูุดููุฉ "Invalid login credentials"**

