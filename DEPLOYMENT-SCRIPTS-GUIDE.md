# دليل استخدام سكريبتات النشر - Deployment Scripts Guide

## 🚀 نظرة عامة

تم إنشاء سكريبتين لتسهيل رفع التحديثات إلى GitHub تلقائياً:

1. **deploy-to-github.bat** - للاستخدام العادي (Windows Batch)
2. **deploy-to-github.ps1** - للاستخدام المتقدم (PowerShell)

## 📁 الملفات المُنشأة

```
yasmin-alsham/
├── deploy-to-github.bat          # سكريبت Windows Batch
├── deploy-to-github.ps1          # سكريبت PowerShell المتقدم
├── quick-deploy.bat              # سكريبت الرفع السريع
├── switch-to-main.bat            # تحويل من master إلى main
├── switch-to-main.ps1            # تحويل من master إلى main (PowerShell)
├── DEPLOYMENT-SCRIPTS-GUIDE.md   # هذا الدليل
└── ... (باقي ملفات المشروع)
```

## 🎯 الميزات

### ✅ ميزات مشتركة:
- **فحص تلقائي** لوجود Git
- **عرض حالة الملفات** قبل الرفع
- **رسائل commit مخصصة** أو تلقائية
- **إضافة remote origin** تلقائياً إذا لم يكن موجود
- **رفع التحديثات** إلى GitHub
- **عرض ملخص العملية** مع آخر commits
- **فتح GitHub** في المتصفح (اختياري)

### 🌟 ميزات إضافية في PowerShell:
- **ألوان ملونة** للنصوص
- **معالجة أخطاء متقدمة**
- **عرض أفضل للحالة**
- **تحويل SSH URLs** إلى HTTPS تلقائياً

### 🔄 سكريبتات التحويل إلى main:
- **تحويل تلقائي** من master إلى main
- **حفظ التغييرات** قبل التحويل
- **رفع الفرع الجديد** إلى GitHub
- **فتح إعدادات GitHub** لتغيير الفرع الافتراضي

## ⚠️ ملاحظة مهمة: الفرع الافتراضي

**جميع السكريبتات تستخدم الآن فرع `main` بدلاً من `master`**

إذا كان مشروعك يستخدم `master`، استخدم سكريبتات التحويل أولاً:

## � التحويل من master إلى main (مرة واحدة فقط)

إذا كان مشروعك يستخدم فرع `master`، قم بالتحويل إلى `main` أولاً:

### الطريقة 1: Windows Batch
```bash
# انقر مرتين على الملف
switch-to-main.bat
```

### الطريقة 2: PowerShell
```powershell
# من PowerShell
.\switch-to-main.ps1
```

**ما يحدث عند التحويل:**
1. إنشاء فرع `main` جديد من `master`
2. رفع فرع `main` إلى GitHub
3. تحويل السكريبتات لاستخدام `main`
4. فتح إعدادات GitHub لتغيير الفرع الافتراضي

## �🔧 طرق الاستخدام

### الطريقة 1: Windows Batch Script (الأسهل)

#### التشغيل:
```bash
# انقر مرتين على الملف
deploy-to-github.bat

# أو من Command Prompt
.\deploy-to-github.bat
```

#### المتطلبات:
- Windows 7 أو أحدث
- Git مثبت على النظام

### الطريقة 2: PowerShell Script (الأفضل)

#### التشغيل:
```powershell
# من PowerShell
.\deploy-to-github.ps1

# أو انقر بالزر الأيمن واختر "Run with PowerShell"
```

#### المتطلبات:
- Windows PowerShell 5.0 أو أحدث
- Git مثبت على النظام
- تفعيل تشغيل السكريبتات (انظر أدناه)

## ⚙️ إعداد PowerShell (مرة واحدة فقط)

إذا ظهرت رسالة خطأ حول تشغيل السكريبتات:

```powershell
# افتح PowerShell كمدير (Run as Administrator)
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# أو للنظام كاملاً
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope LocalMachine
```

## 📋 خطوات الاستخدام

### 1. **التحضير:**
- تأكد من وجود Git على النظام
- تأكد من وجود تغييرات في المشروع
- احفظ جميع الملفات المفتوحة

### 2. **التشغيل:**
- انقر مرتين على `deploy-to-github.bat`
- أو شغل `deploy-to-github.ps1` من PowerShell

### 3. **اتبع التعليمات:**
- راجع حالة الملفات المعروضة
- أدخل رسالة commit (أو اضغط Enter للرسالة التلقائية)
- أدخل رابط المستودع إذا طُلب منك
- انتظر اكتمال العملية

### 4. **التأكيد:**
- راجع الملخص المعروض
- افتح GitHub للتأكد من رفع التحديثات

## 🔍 مثال على الاستخدام

```
========================================
   ياسمين الشام - رفع التحديثات إلى GitHub
   Yasmin Alsham - Deploy to GitHub
========================================

✅ تم العثور على Git: git version 2.40.0
✅ مشروع Git صالح

🔍 فحص حالة المشروع...

📋 حالة الملفات الحالية:
 M src/app/page.tsx
 M src/lib/database.ts
?? new-feature.tsx

📝 أدخل رسالة التحديث (أو اضغط Enter للرسالة الافتراضية): إضافة ميزة جديدة

🚀 بدء عملية الرفع...

➕ إضافة الملفات...
✅ تم إضافة الملفات بنجاح

💾 إنشاء commit...
✅ تم إنشاء commit بنجاح

📤 رفع التحديثات إلى GitHub...
🌿 الفرع الحالي: master

========================================
🎉 تم رفع التحديثات بنجاح!
========================================

📊 تفاصيل العملية:
   📝 رسالة التحديث: إضافة ميزة جديدة
   🌿 الفرع: master
   🔗 المستودع: https://github.com/khaled5i/yasmin-alsham

📋 آخر التحديثات:
a1b2c3d إضافة ميزة جديدة
e4f5g6h Fix TypeScript errors
i7j8k9l Initial commit

🌐 هل تريد فتح GitHub في المتصفح؟ (y/n): y

✅ العملية مكتملة! يمكنك الآن مراجعة التحديثات على GitHub
```

## 🛠️ استكشاف الأخطاء

### خطأ: "Git غير مثبت"
**الحل:**
1. حمل Git من https://git-scm.com/
2. ثبته واتبع التعليمات
3. أعد تشغيل Command Prompt/PowerShell

### خطأ: "ليس مشروع Git"
**الحل:**
```bash
git init
git remote add origin https://github.com/username/repo.git
```

### خطأ: "لا يوجد remote origin"
**الحل:**
- السكريبت سيطلب منك إدخال رابط المستودع
- أدخل الرابط مثل: `https://github.com/khaled5i/yasmin-alsham.git`

### خطأ: "فشل في الرفع"
**الأسباب المحتملة:**
1. **بيانات تسجيل الدخول خاطئة**
   - تأكد من username/password أو token
2. **لا توجد صلاحيات كتابة**
   - تأكد من أنك مالك المستودع أو لديك صلاحيات
3. **مشاكل الشبكة**
   - تحقق من اتصال الإنترنت

### خطأ PowerShell: "تشغيل السكريبتات معطل"
**الحل:**
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

## 🔒 الأمان

### معلومات حساسة:
- السكريبتات **لا تحفظ** كلمات المرور
- استخدم **Personal Access Tokens** بدلاً من كلمات المرور
- تأكد من عدم رفع ملفات `.env` أو المفاتيح السرية

### أفضل الممارسات:
1. **راجع التغييرات** قبل الرفع
2. **اكتب رسائل commit واضحة**
3. **لا ترفع ملفات حساسة**
4. **استخدم .gitignore** للملفات غير المرغوبة

## 📝 تخصيص السكريبتات

### تعديل الرسالة الافتراضية:
في `deploy-to-github.bat`:
```batch
set commit_message=Update: %%c-%%a-%%b %%d:%%e
```

في `deploy-to-github.ps1`:
```powershell
$defaultMessage = "Update: $(Get-Date -Format 'yyyy-MM-dd HH:mm')"
```

### إضافة خطوات إضافية:
يمكنك إضافة أوامر قبل أو بعد الرفع مثل:
- تشغيل الاختبارات
- بناء المشروع
- إرسال إشعارات

## 🎯 نصائح للاستخدام الأمثل

### 1. **استخدم رسائل commit واضحة:**
```
✅ جيد: "إضافة صفحة حجز المواعيد"
✅ جيد: "إصلاح خطأ في قاعدة البيانات"
❌ سيء: "تحديث"
❌ سيء: "إصلاح"
```

### 2. **راجع التغييرات قبل الرفع:**
- تأكد من أن جميع التغييرات مقصودة
- احذف الملفات المؤقتة أو التجريبية

### 3. **استخدم فروع للميزات الجديدة:**
```bash
git checkout -b feature/new-appointment-system
# اعمل على الميزة
# استخدم السكريبت للرفع
git checkout master
git merge feature/new-appointment-system
```

### 4. **اختبر محلياً قبل الرفع:**
```bash
npm run build  # تأكد من عدم وجود أخطاء
npm test       # شغل الاختبارات
```

## 📞 الدعم

### في حالة المشاكل:
1. **راجع هذا الدليل** للحلول الشائعة
2. **تحقق من Git status** يدوياً
3. **راجع رسائل الخطأ** بعناية
4. **جرب الأوامر يدوياً** للتأكد

### أوامر Git المفيدة:
```bash
git status                    # عرض حالة الملفات
git log --oneline -5         # عرض آخر 5 commits
git remote -v                # عرض المستودعات المرتبطة
git branch                   # عرض الفروع
```

---

**ملاحظة:** هذه السكريبتات مصممة خصيصاً لمشروع ياسمين الشام ويمكن تخصيصها حسب احتياجاتك.

**تاريخ الإنشاء:** 2025-01-11  
**النسخة:** 1.0  
**التوافق:** Windows 7+ مع Git
