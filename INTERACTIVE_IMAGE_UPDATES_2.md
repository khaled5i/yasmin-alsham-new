# ุชุญุฏูุซุงุช ูููู InteractiveImageAnnotation.tsx - ุงูุฌุฒุก ุงูุซุงูู

## ุงูุชุงุฑูุฎ: 2026-01-31

---

## โ ุงูุชุนุฏููุงุช ุงูููุชููุฉ:

### 1๏ธโฃ ุฅุถุงูุฉ ุฎุงุตูุฉ ุงูุณุญุจ ูุงูุฅููุงุช ูููุตูุต ุนูู ุงูุตูุฑุฉ
**ุงููุตู:**
- ุฅุถุงูุฉ ุฅููุงููุฉ ุณุญุจ ูุฅููุงุช ุงููุตูุต ุงููุนุฑูุถุฉ ุนูู ุงูุตูุฑุฉ
- ุญูุธ ุงููููุน ุงูุฌุฏูุฏ ูููุต ุจุดูู ุฏุงุฆู ูู `annotation`

**ุงูุชุบููุฑุงุช:**
- โ ุฅุถุงูุฉ `drag` ู `dragMomentum={false}` ู `dragElastic={0}` ูููุตูุต
- โ ุฅุถุงูุฉ ุฏุงูุฉ `handleTextDragEnd()` ูุญูุธ ุงููููุน ุงูุฌุฏูุฏ
- โ ุชุบููุฑ `className` ูู `pointer-events-none` ุฅูู `cursor-move`
- โ ุญูุธ ุงููููุน ูู `boxX` ู `boxY` ูู `annotation`

**ุงูููุฏ:**
```typescript
<motion.div
  drag
  dragMomentum={false}
  dragElastic={0}
  onDragEnd={(e, info) => handleTextDragEnd(annotation.id, info)}
  className="cursor-move"
>
  {/* ุงููุต */}
</motion.div>
```

---

### 2๏ธโฃ ุชุญุณูู ูุงุฌูุฉ ุงูุชุฑุฌูุฉ ุจูุงุฆูุฉ ููุณุฏูุฉ
**ุงููุตู:**
- ุงุณุชุจุฏุงู ุฃุฒุฑุงุฑ ุงูุชุฑุฌูุฉ ุงููุชุนุฏุฏุฉ ุจุฒุฑ ูุงุญุฏ + ูุงุฆูุฉ ููุณุฏูุฉ
- ุนุฑุถ ุฃุณูุงุก ุงููุบุงุช ุจูุบุชูุง ุงูุฃุตููุฉ

**ุงูุชุบููุฑุงุช:**
- โ ุฅุถุงูุฉ `showLanguageDropdown` state
- โ ุชุญุฏูุซ `availableLanguages` ูุฅุถุงูุฉ `nativeName`:
  - ุงูุฅูุฌููุฒูุฉ (English)
  - ุงูุฃุฑุฏูุฉ (ุงุฑุฏู)
  - ุงูุจูุบุงููุฉ (เฆฌเฆพเฆเฆฒเฆพ)
- โ ุฅุถุงูุฉ ุฒุฑ ุชุฑุฌูุฉ ูุงุญุฏ ูู ุฑุฃุณ ุงูุจุทุงูุฉ ุจุฌุงูุจ ุฃุฒุฑุงุฑ ุงูุชุญูู
- โ ุนุฑุถ ูุงุฆูุฉ ููุณุฏูุฉ ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงูุชุฑุฌูุฉ
- โ ุญุฐู ูุณู ุฃุฒุฑุงุฑ ุงูุชุฑุฌูุฉ ุงููุชุนุฏุฏุฉ ุงููุฏูู

**ุงูููุฏ:**
```typescript
<button onClick={() => setShowLanguageDropdown(...)}>
  <Languages className="w-4 h-4" />
</button>

{showLanguageDropdown === annotation.id && (
  <div className="absolute left-0 top-full mt-1 ...">
    {availableLanguages.map((lang) => (
      <button onClick={() => translateAnnotationText(...)}>
        {lang.nameAr} ({lang.nativeName})
      </button>
    ))}
  </div>
)}
```

---

### 3๏ธโฃ ุชูููู ุงููุณุงุญุฉ ูู ุจุทุงูุงุช ุงูุชุนูููุงุช
**ุงููุตู:**
- ุญุฐู ุนุจุงุฑุฉ "ุชุนููู #1" ูุงูุงูุชูุงุก ุจุฑูู ูุงุญุฏ ููุท

**ุงูุชุบููุฑุงุช:**
- โ ุชุบููุฑ `ุชุนููู #{index + 1}` ุฅูู `{index + 1}`
- โ ุชูุจูุฑ ุญุฌู ุงูุฑูู ูู `text-sm` ุฅูู `text-lg`

**ูุจู:**
```
ุชุนููู #1
```

**ุจุนุฏ:**
```
1
```

---

### 4๏ธโฃ ุงูุชุฃูุฏ ูู ุญูุธ ุงูุชุฑุฌูุงุช ุจุดูู ุฏุงุฆู
**ุงููุตู:**
- ุงูุชุญูู ูู ุฃู ุงูุชุฑุฌูุงุช ุชูุญูุธ ูู `annotation` ูุชุธูุฑ ุนูุฏ ุฅุนุงุฏุฉ ูุชุญ ุงูุทูุจ

**ุงููุชูุฌุฉ:**
- โ ุงูุชุฑุฌูุงุช ุชูุญูุธ ุจุงููุนู ูู `translatedText` ู `translationLanguage`
- โ ูุชู ุญูุธูุง ุนุจุฑ `onAnnotationsChange(updatedAnnotations)`
- โ ุณุชุธูุฑ ุนูุฏ ุฅุนุงุฏุฉ ูุชุญ ุงูุทูุจ ูุฃู ุงูุจูุงูุงุช ูุญููุธุฉ ูู ุงูู state

---

### 5๏ธโฃ ุนูุณ ุชุฑุชูุจ ุฃููููุงุช ุงูุฑุณู
**ุงููุตู:**
- ุนูุณ ุชุฑุชูุจ ุฃููููุงุช ุฃุฏูุงุช ุงูุฑุณู ูู ุงูุฃุนูู-ุงูุฃุณูู ุฅูู ุงูุฃุณูู-ุงูุฃุนูู

**ุงูุชุบููุฑุงุช:**
- โ ุชุบููุฑ `flex flex-col` ุฅูู `flex flex-col-reverse`

**ุงูุชุฑุชูุจ ุงูุฌุฏูุฏ (ูู ุงูุฃุณูู ุฅูู ุงูุฃุนูู):**
1. ุฒุฑ ุงูุฑุณู (Pencil) - ูู ุงูุฃุณูู
2. ุงูููู (PenTool)
3. ุงูููุญุงุฉ (Eraser)
4. ุงูููู
5. ุณูู ุงูุฎุท - ูู ุงูุฃุนูู

---

### 6๏ธโฃ ุฏูุฌ ุฃุฒุฑุงุฑ ุงูุญุฐู ูุงูุชุฑุงุฌุน ูู ูุงุฆูุฉ ุงูููุญุงุฉ
**ุงููุตู:**
- ุฅุฒุงูุฉ ุฃุฒุฑุงุฑ "ุญุฐู ุงููู" ู "ุงูุชุฑุงุฌุน" ุงููููุตูุฉ
- ุฏูุฌูุง ูู ูุงุฆูุฉ ููุจุซูุฉ ุชุธูุฑ ุนูุฏ ุงูุถุบุท ุนูู ุฃููููุฉ ุงูููุญุงุฉ

**ุงูุชุบููุฑุงุช:**
- โ ุฅุถุงูุฉ `showEraserMenu` state
- โ ุชุญููู ุฒุฑ ุงูููุญุงุฉ ุฅูู ูุงุฆูุฉ ููุจุซูุฉ ุชุญุชูู ุนูู:
  - ุชูุนูู/ุฅูุบุงุก ุงูููุญุงุฉ
  - ุญุฌู ุงูููุญุงุฉ (4 ุฃุญุฌุงู)
  - ูุงุตู
  - ุฒุฑ ุงูุชุฑุงุฌุน (Undo)
  - ุฒุฑ ูุณุญ ุงููู (Clear All)
- โ ุญุฐู ุฃุฒุฑุงุฑ ุงูุชุฑุงุฌุน ููุณุญ ุงููู ุงููููุตูุฉ
- โ ุญุฐู ุงููุงุตู

**ุงููุงุฆูุฉ ุงูููุจุซูุฉ:**
```
โโโโโโโโโโโโโโโโโโโโโโโ
โ ุชูุนูู/ุฅูุบุงุก ุงูููุญุงุฉ โ
โ ุญุฌู ุงูููุญุงุฉ: โ โ โ โฌคโ
โโโโโโโโโโโโโโโโโโโโโโโค
โ ุชุฑุงุฌุน              โ
โ ูุณุญ ุงููู            โ
โโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ููุฎุต ุงูุชุนุฏููุงุช:

| ุงูุชุนุฏูู | ุงูุญุงูุฉ | ุงููุตู |
|---------|--------|-------|
| ุงูุณุญุจ ูุงูุฅููุงุช | โ | ุงููุตูุต ูุงุจูุฉ ููุณุญุจ ุนูู ุงูุตูุฑุฉ |
| ูุงุฌูุฉ ุงูุชุฑุฌูุฉ | โ | ุฒุฑ ูุงุญุฏ + dropdown ููุบุงุช |
| ุชูููู ุงููุณุงุญุฉ | โ | ุฑูู ููุท ุจุฏูุงู ูู "ุชุนููู #1" |
| ุญูุธ ุงูุชุฑุฌูุงุช | โ | ุชูุญูุธ ุจุดูู ุฏุงุฆู |
| ุนูุณ ุงูุชุฑุชูุจ | โ | ุงูุฃููููุงุช ูู ุงูุฃุณูู ููุฃุนูู |
| ุฏูุฌ ุงูุฃุฒุฑุงุฑ | โ | ูุงุฆูุฉ ุงูููุญุงุฉ ุชุญุชูู ุนูู ูู ุดูุก |

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ:

1. **`src/components/InteractiveImageAnnotation.tsx`**
   - ุฅุถุงูุฉ `handleTextDragEnd()` function
   - ุฅุถุงูุฉ `showLanguageDropdown` state
   - ุฅุถุงูุฉ `showEraserMenu` state
   - ุชุญุฏูุซ `availableLanguages` array
   - ุชุนุฏูู ุนุฑุถ ุงููุตูุต ุนูู ุงูุตูุฑุฉ
   - ุชุนุฏูู ูุงุฌูุฉ ุงูุชุฑุฌูุฉ
   - ุชุนุฏูู ุฑุฃุณ ุจุทุงูุงุช ุงูุชุนูููุงุช
   - ุนูุณ ุชุฑุชูุจ ุฃุฏูุงุช ุงูุฑุณู
   - ุฏูุฌ ุฃุฒุฑุงุฑ ุงูููุญุงุฉ

---

## โ ุงูุญุงูุฉ: **ููุชูู ุจูุฌุงุญ!**

- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู TypeScript
- โ ุฌููุน ุงูุชุนุฏููุงุช ูุชูุงููุฉ ูุน ุงูููุฏ ุงูููุฌูุฏ
- โ ุงูุชุตููู ูุชูุงุณู ููุญุณูู
- โ ุฌุงูุฒ ููุงุฎุชุจุงุฑ ูุงูุงุณุชุฎุฏุงู

