# ููุฒุฉ ุงูุชูุงุท ุงูุตูุฑ ูู ุงููุงููุฑุง - Camera Upload Feature

## ๐ธ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุณูู ูุธุงู ุฑูุน ุงูุตูุฑ ูู ูุดุฑูุน ูุงุณููู ุงูุดุงู ููุดูู ุฅููุงููุฉ **ุงูุชูุงุท ุงูุตูุฑ ูุจุงุดุฑุฉ ูู ุงููุงููุฑุง** ุจุงูุฅุถุงูุฉ ุฅูู ุงุฎุชูุงุฑ ุงูุตูุฑ ูู ุงููุนุฑุถ.

---

## โจ ุงูููุงูุน ุงููุญุฏุซุฉ

### 1๏ธโฃ **ูููู ุฑูุน ุตูุฑ ุงูุนูู ุงูููุชูู** (`CompletedWorkUpload.tsx`)
- **ุงููููุน**: `src/components/CompletedWorkUpload.tsx`
- **ุงูุงุณุชุฎุฏุงู**: ูุณุชุฎุฏูู ุงูุนูุงู ูุฑูุน ุตูุฑ ุงูุนูู ุงูููุชูู ุนูุฏ ุฅููุงุก ุงูุทูุจ
- **ุงูููุฒุงุช**:
  - โ ุฎูุงุฑ ุงูุชูุงุท ุตูุฑุฉ ูู ุงููุงููุฑุง
  - โ ุฎูุงุฑ ุงุฎุชูุงุฑ ุตูุฑุฉ ูู ุงููุนุฑุถ
  - โ ูุงุฆูุฉ ููุณุฏูุฉ ุฃูููุฉ ููุงุฎุชูุงุฑ ุจูู ุงูุฎูุงุฑูู
  - โ ุงูุญูุงุธ ุนูู ุงูุชุญูู ุงูุฅูุฒุงูู (ูุฌุจ ุฑูุน ุตูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู)
  - โ ุงูุญูุงุธ ุนูู ุฌููุน ุงูุชุญุณููุงุช ุงูุจุตุฑูุฉ (ุงูุญุฏูุฏ ุงูุญูุฑุงุกุ ุงูุฑุณุงุฆู ุงูุชุญุฐูุฑูุฉ)

### 2๏ธโฃ **ูููู ุฑูุน ุงูุตูุฑ ุงูุนุงู** (`ImageUpload.tsx`)
- **ุงููููุน**: `src/components/ImageUpload.tsx`
- **ุงูุงุณุชุฎุฏุงู**: ููุณุชุฎุฏู ูู:
  - ุตูุญุฉ ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏ (`src/app/dashboard/add-order/page.tsx`)
  - ุตูุญุฉ ุชุนุฏูู ุงูุทูุจ (`src/components/EditOrderModal.tsx`)
- **ุงูููุฒุงุช**:
  - โ ุฎูุงุฑ ุงูุชูุงุท ุตูุฑุฉ ูู ุงููุงููุฑุง
  - โ ุฎูุงุฑ ุงุฎุชูุงุฑ ุตูุฑ ูุชุนุฏุฏุฉ ูู ุงููุนุฑุถ
  - โ ูุงุฆูุฉ ููุณุฏูุฉ ุฃูููุฉ ููุงุฎุชูุงุฑ ุจูู ุงูุฎูุงุฑูู
  - โ ุฏุนู ุฑูุน ุงูุตูุฑ ุฅูู Supabase Storage ุฃู ุชุญููููุง ุฅูู base64
  - โ ุดุฑูุท ุชูุฏู ูุนูููุฉ ุงูุฑูุน

---

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### HTML5 Camera API

ุชู ุงุณุชุฎุฏุงู HTML5 Camera API ูุชูุนูู ุงููุงููุฑุง:

```tsx
<input
  ref={cameraInputRef}
  type="file"
  accept="image/*"
  capture="environment"  // ูุชุญ ุงููุงููุฑุง ุงูุฎูููุฉ ุนูู ุงูููุงุชู
  onChange={(e) => handleFileSelect(e.target.files)}
  className="hidden"
/>
```

**ุงูุฎุตุงุฆุต ุงููุณุชุฎุฏูุฉ:**
- `type="file"` - ููุน ุงูุฅุฏุฎุงู
- `accept="image/*"` - ูุจูู ุงูุตูุฑ ููุท
- `capture="environment"` - ูุชุญ ุงููุงููุฑุง ุงูุฎูููุฉ (ุนูู ุงูููุงุชู ุงููุญูููุฉ)
- `onChange` - ูุนุงูุฌ ุงูุญุฏุซ ุนูุฏ ุงุฎุชูุงุฑ/ุงูุชูุงุท ุตูุฑุฉ

### ูุงุฆูุฉ ุงูุฎูุงุฑุงุช ุงูููุณุฏูุฉ

ุชู ุฅุถุงูุฉ ูุงุฆูุฉ ููุณุฏูุฉ ุฃูููุฉ ุชุธูุฑ ุนูุฏ ุงูููุฑ ุนูู ููุทูุฉ ุงูุฑูุน:

```tsx
{showOptions && !disabled && images.length < maxImages && (
  <motion.div
    initial={{ opacity: 0, y: -10 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: -10 }}
    className="absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden z-10"
  >
    {/* ุฎูุงุฑ ุงููุงููุฑุง */}
    <button onClick={openCameraDialog}>
      <Camera className="w-5 h-5 text-pink-600" />
      <div>
        <p>ุงูุชูุงุท ุตูุฑุฉ</p>
        <p>ุงุณุชุฎุฏู ุงููุงููุฑุง ูุงูุชูุงุท ุตูุฑุฉ ุฌุฏูุฏุฉ</p>
      </div>
    </button>
    
    {/* ุฎูุงุฑ ุงููุนุฑุถ */}
    <button onClick={openFileDialog}>
      <ImageIcon className="w-5 h-5 text-pink-600" />
      <div>
        <p>ุงุฎุชูุงุฑ ูู ุงููุนุฑุถ</p>
        <p>ุงุฎุชุฑ ุตูุฑ ููุฌูุฏุฉ ูู ุฌูุงุฒู</p>
      </div>
    </button>
  </motion.div>
)}
```

### ุฅุบูุงู ุงููุงุฆูุฉ ุนูุฏ ุงูููุฑ ุฎุงุฑุฌูุง

ุชู ุฅุถุงูุฉ ูุนุงูุฌ ูุฅุบูุงู ุงููุงุฆูุฉ ุชููุงุฆูุงู ุนูุฏ ุงูููุฑ ุฎุงุฑุฌูุง:

```tsx
useEffect(() => {
  const handleClickOutside = (event: MouseEvent) => {
    if (showOptions) {
      setShowOptions(false)
    }
  }

  if (showOptions) {
    document.addEventListener('click', handleClickOutside)
  }

  return () => {
    document.removeEventListener('click', handleClickOutside)
  }
}, [showOptions])
```

---

## ๐ฑ ุงูุชูุงูู

### ุงูููุงุชู ุงููุญูููุฉ
- โ **Android**: ูุนูู ุจุดูู ููุชุงุฒ - ููุชุญ ุงููุงููุฑุง ุงูุฎูููุฉ ูุจุงุดุฑุฉ
- โ **iOS (Safari)**: ูุนูู ุจุดูู ููุชุงุฒ - ูุธูุฑ ุฎูุงุฑ ุงููุงููุฑุง ูู ุงููุงุฆูุฉ
- โ **Chrome Mobile**: ูุนูู ุจุดูู ููุชุงุฒ
- โ **Firefox Mobile**: ูุนูู ุจุดูู ููุชุงุฒ

### ุฃุฌูุฒุฉ ุงูููุจููุชุฑ
- โ **Chrome**: ูุนูู - ููุชุญ ูุงููุฑุง ุงูููุจ ุฅุฐุง ูุงูุช ูุชููุฑุฉ
- โ **Firefox**: ูุนูู - ููุชุญ ูุงููุฑุง ุงูููุจ ุฅุฐุง ูุงูุช ูุชููุฑุฉ
- โ **Safari**: ูุนูู - ููุชุญ ูุงููุฑุง ุงูููุจ ุฅุฐุง ูุงูุช ูุชููุฑุฉ
- โ **Edge**: ูุนูู - ููุชุญ ูุงููุฑุง ุงูููุจ ุฅุฐุง ูุงูุช ูุชููุฑุฉ

**ููุงุญุธุฉ**: ุฅุฐุง ูู ุชูู ููุงู ูุงููุฑุง ูุชููุฑุฉ ุนูู ุงูุฌูุงุฒุ ุณูุธูุฑ ุฎูุงุฑ ุงุฎุชูุงุฑ ุงููููุงุช ููุท.

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู ูุงูุฃููููุงุช
- **ุฃููููุฉ ุงููุงููุฑุง**: `Camera` ูู Lucide React - ููู ูุฑุฏู (`text-pink-600`)
- **ุฃููููุฉ ุงููุนุฑุถ**: `ImageIcon` ูู Lucide React - ููู ูุฑุฏู (`text-pink-600`)
- **ุงูุฎูููุฉ ุนูุฏ ุงูุชูุฑูุฑ**: `hover:bg-pink-50`
- **ุงูุญุฏูุฏ**: `border border-gray-200`
- **ุงูุธู**: `shadow-lg`

### ุงูุฑุณูู ุงููุชุญุฑูุฉ
- ุงุณุชุฎุฏุงู **Framer Motion** ููุฑุณูู ุงููุชุญุฑูุฉ ุงูุณูุณุฉ
- ุชุฃุซูุฑ ุงูุธููุฑ/ุงูุงุฎุชูุงุก ูููุงุฆูุฉ ุงูููุณุฏูุฉ
- ุงูุชูุงูุงุช ุณูุณุฉ ุนูุฏ ุงูุชูุฑูุฑ

### ุฏุนู RTL
- โ ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ (RTL)
- โ ุงุณุชุฎุฏุงู `space-x-reverse` ูููุณุงูุงุช
- โ ูุญุงุฐุงุฉ ุงููุตูุต ูู ุงููููู (`text-right`)

---

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ุงูุฃุฐููุงุช
- ูุทูุจ ุงููุชุตูุญ ุฅุฐู ุงููุณุชุฎุฏู ูุจู ุงููุตูู ุฅูู ุงููุงููุฑุง
- ูุง ูุชู ุญูุธ ุฃู ุตูุฑ ุจุฏูู ููุงููุฉ ุงููุณุชุฎุฏู
- ุฌููุน ุงูุตูุฑ ุชูุนุงูุฌ ูุญููุงู ูุจู ุงูุฑูุน

### ูุนุงูุฌุฉ ุงูุตูุฑ
- **ูู `CompletedWorkUpload`**: ุชุญููู ุงูุตูุฑ ุฅูู base64 ุซู ุญูุธูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ูู `ImageUpload`**: 
  - ุฅุฐุง `useSupabaseStorage = true`: ุฑูุน ุงูุตูุฑ ุฅูู Supabase Storage
  - ุฅุฐุง `useSupabaseStorage = false`: ุชุญููู ุงูุตูุฑ ุฅูู base64

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฑูุน ุตูุฑ ุงูุนูู ุงูููุชูู (ุงูุนุงูู)

```tsx
<CompletedWorkUpload
  onImagesChange={(images) => setCompletedImages(images)}
  maxImages={3}
  disabled={false}
/>
```

**ุณููุงุฑูู ุงูุงุณุชุฎุฏุงู:**
1. ุงูุนุงูู ูููุฑ ุนูู ููุทูุฉ ุงูุฑูุน
2. ุชุธูุฑ ูุงุฆูุฉ ุจุฎูุงุฑูู: "ุงูุชูุงุท ุตูุฑุฉ" ู "ุงุฎุชูุงุฑ ูู ุงููุนุฑุถ"
3. ุฅุฐุง ุงุฎุชุงุฑ "ุงูุชูุงุท ุตูุฑุฉ":
   - ุชูุชุญ ุงููุงููุฑุง ุงูุฎูููุฉ (ุนูู ุงูููุงุชู)
   - ููุชูุท ุงูุนุงูู ุตูุฑุฉ ููุนูู ุงูููุชูู
   - ุชุธูุฑ ุงูุตูุฑุฉ ููุฑุงู ูู ุงููุนุงููุฉ
4. ุฅุฐุง ุงุฎุชุงุฑ "ุงุฎุชูุงุฑ ูู ุงููุนุฑุถ":
   - ููุชุญ ูุนุฑุถ ุงูุตูุฑ
   - ูุฎุชุงุฑ ุงูุนุงูู ุตูุฑุฉ ููุฌูุฏุฉ
   - ุชุธูุฑ ุงูุตูุฑุฉ ููุฑุงู ูู ุงููุนุงููุฉ

### ูุซุงู 2: ุฑูุน ุตูุฑ ุงูุชุตููู (ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏ)

```tsx
<ImageUpload
  images={formData.images}
  onImagesChange={(images) => handleInputChange('images', images)}
  maxImages={10}
  useSupabaseStorage={true}
/>
```

**ุณููุงุฑูู ุงูุงุณุชุฎุฏุงู:**
1. ุงููุฏูุฑ ูููุฑ ุนูู ููุทูุฉ ุงูุฑูุน
2. ุชุธูุฑ ูุงุฆูุฉ ุจุฎูุงุฑูู: "ุงูุชูุงุท ุตูุฑุฉ" ู "ุงุฎุชูุงุฑ ูู ุงููุนุฑุถ"
3. ูููู ุฑูุน ุญุชู 10 ุตูุฑ
4. ุงูุตูุฑ ุชูุฑูุน ุฅูู Supabase Storage
5. ูุธูุฑ ุดุฑูุท ุชูุฏู ููู ุตูุฑุฉ ุฃุซูุงุก ุงูุฑูุน

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุนูู ุงูููุงุชู ุงููุญูููุฉ
1. ุงูุชุญ ุงููููุน ุนูู ูุงุชู ูุญููู
2. ุงูุชูู ุฅูู ุตูุญุฉ ุฅููุงุก ุงูุทูุจ (ููุนุงูู)
3. ุงููุฑ ุนูู ููุทูุฉ ุฑูุน ุงูุตูุฑ
4. ุงุฎุชุฑ "ุงูุชูุงุท ุตูุฑุฉ"
5. ุชุฃูุฏ ูู ูุชุญ ุงููุงููุฑุง ุงูุฎูููุฉ
6. ุงูุชูุท ุตูุฑุฉ ูุชุฃูุฏ ูู ุธููุฑูุง ูู ุงููุนุงููุฉ

### ุงุฎุชุจุงุฑ ุนูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ
1. ุงูุชุญ ุงููููุน ุนูู ูุชุตูุญ ุงูููุจููุชุฑ
2. ุงูุชูู ุฅูู ุตูุญุฉ ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏ
3. ุงููุฑ ุนูู ููุทูุฉ ุฑูุน ุงูุตูุฑ
4. ุงุฎุชุฑ "ุงูุชูุงุท ุตูุฑุฉ"
5. ุชุฃูุฏ ูู ูุชุญ ูุงููุฑุง ุงูููุจ (ุฅุฐุง ูุงูุช ูุชููุฑุฉ)
6. ุงูุชูุท ุตูุฑุฉ ูุชุฃูุฏ ูู ุธููุฑูุง ูู ุงููุนุงููุฉ

### ุงุฎุชุจุงุฑ ุงูุณุญุจ ูุงูุฅููุงุช
1. ุงุณุญุจ ุตูุฑุฉ ูู ุณุทุญ ุงูููุชุจ
2. ุฃููุชูุง ุนูู ููุทูุฉ ุงูุฑูุน
3. ุชุฃูุฏ ูู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ

---

## ๐ ุงููุดุงูู ุงููุญุชููุฉ ูุงูุญููู

### ุงููุดููุฉ 1: ุงููุงููุฑุง ูุง ุชูุชุญ ุนูู iOS Safari
**ุงูุญู**: ุชุฃูุฏ ูู ุฃู ุงููููุน ูุนูู ุนุจุฑ HTTPS (ุงููุงููุฑุง ูุง ุชุนูู ุนูู HTTP ูู iOS)

### ุงููุดููุฉ 2: ุงููุงุฆูุฉ ูุง ุชุบูู ุนูุฏ ุงูููุฑ ุฎุงุฑุฌูุง
**ุงูุญู**: ุชู ุฅุถุงูุฉ ูุนุงูุฌ `useEffect` ูุฅุบูุงู ุงููุงุฆูุฉ ุชููุงุฆูุงู

### ุงููุดููุฉ 3: ุงูุตูุฑ ูุจูุฑุฉ ุฌุฏุงู
**ุงูุญู**: ูู `ImageUpload`ุ ูุชู ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู ูุจู ุงูุฑูุน (ุงูุญุฏ ุงูุฃูุตู: 5MB)

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงููููุงุช ุงููุนุฏูุฉ
- `src/components/CompletedWorkUpload.tsx` - 237 ุณุทุฑ
- `src/components/ImageUpload.tsx` - 395 ุณุทุฑ

### ุงูููุฒุงุช ุงููุถุงูุฉ
- โ 2 input ุฌุฏูุฏุฉ (ูุงููุฑุง + ูุนุฑุถ)
- โ ูุงุฆูุฉ ููุณุฏูุฉ ุฃูููุฉ
- โ 3 ุฏูุงู ุฌุฏูุฏุฉ (openCameraDialog, handleUploadClick, handleClickOutside)
- โ ุฑุณูู ูุชุญุฑูุฉ ุจู Framer Motion
- โ ุฏุนู ูุงูู ูู RTL

### ุงูุตูุญุงุช ุงููุณุชููุฏุฉ
1. ุตูุญุฉ ุฅููุงุก ุงูุทูุจ (ุงูุนุงูู) - `src/app/dashboard/orders/page.tsx`
2. ุตูุญุฉ ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏ - `src/app/dashboard/add-order/page.tsx`
3. ุตูุญุฉ ุชุนุฏูู ุงูุทูุจ - `src/components/EditOrderModal.tsx`

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุชุญุณููุงุช ูุณุชูุจููุฉ ูุญุชููุฉ
- [ ] ุฅุถุงูุฉ ุฎูุงุฑ ุชุญุฑูุฑ ุงูุตูุฑุฉ ูุจู ุงูุฑูุน (ูุตุ ุชุฏููุฑุ ููุงุชุฑ)
- [ ] ุฅุถุงูุฉ ุฎูุงุฑ ุถุบุท ุงูุตูุฑ ุจุฌูุฏุฉ ูุงุจูุฉ ููุชุฎุตูุต
- [ ] ุฅุถุงูุฉ ุฎูุงุฑ ุงูุชูุงุท ููุฏูู ูุตูุฑ ููุนูู ุงูููุชูู
- [ ] ุฅุถุงูุฉ ุฎูุงุฑ ูุณุญ QR code ูู ุงููุงููุฑุง

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู ุฃู ูุฏูู ุงูุชุฑุงุญุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 2025-01-08  
**ุงูุฅุตุฏุงุฑ**: 1.0.0  
**ุงูุญุงูุฉ**: โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู

